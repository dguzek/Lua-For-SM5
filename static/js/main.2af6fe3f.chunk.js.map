{"version":3,"sources":["_layout/Header.jsx","_layout/GuidesSidebar.jsx","LuaAPI/LuaAPIFilter.jsx","_layout/LuaAPISidebar.jsx","_layout/Sidebar.jsx","_layout/ContentNavigation.jsx","Home.jsx","LuaAPI/ActorClass.jsx","LuaAPI/ActorMethod.jsx","LuaAPI/Namespace.jsx","LuaAPI/NamespaceMethod.jsx","LuaAPI/LuaAPI.jsx","Resources.jsx","introduction/Foreword.jsx","introduction/Lua.jsx","introduction/Supported-File-Extensions.jsx","introduction/Mod-Chart-Setup.jsx","actors/Quad.jsx","actors/BitmapText.jsx","actors/Sprite.jsx","actors/Actor.jsx","actors/LoadActor.jsx","actors/Sound.jsx","actors/ActorMultiVertex.jsx","actors/ActorFrameTexture.jsx","actors/Model.jsx","singletons/SCREENMAN.jsx","singletons/SOUND.jsx","best-practices/Debugging.jsx","best-practices/Command-Chaining.jsx","examples/ArbitraryInput.jsx","examples/SimpleTweens.jsx","App.jsx","index.js"],"names":["Header","id","className","src","alt","width","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","exact","to","Component","GuidesSidebar","forEach","i","el","$","find","each","j","anchor","hasClass","addClass","removeClass","aria-labelledby","data-parent","LuaAPIFilter","props","handleFilter","bind","typingTimer","doneTypingInterval","e","eventValue","target","value","filter_object","this","clearTimeout","setTimeout","onFilterChange","toUpperCase","htmlFor","onChange","React","Sidebar","handleFilterChange","href","window","addEventListener","HandleResize","innerWidth","path","LuaAPISidebar","ContentNavigation","Home","ActorClass","updateHash","location","hash","actor","name","onClick","dangerouslySetInnerHTML","__html","base","desc","methods","ActorMethod","method","arguments","return","Namespace","namespace","NamespaceMethod","LuaAPI","state","isLoaded","mobile_api_filter","visible_categories","lua_api","actor_class_names","filterResults","getReturnValue","handleFilterChangeMobile","get_base","actors_with_base","actor_class","_class","attributes","textContent","check_for_links","trimmed_innerHTML","innerHTML","trim","_matches","match","anchors","_match","text","_link","parseHTML","getNamedItem","nodeValue","_function","push","namespaces","length","class_is_a_namespace","parentNode","nodeName","_i","replace","_parent_class","ajax","url","done","lua_documentation","lua_dot_xml","children","actor_classes","Array","from","enums","singletons","global_functions","constants","data","map","unsorted_methods","sort","a","b","sorted_methods","class_desc","undefined","values","v","s","class","f","c","all_elements","get_elements_to_render","setState","scroll_window_after_hashchange","window_hash","document","getElementById","y_offset","offsetTop","scrollTo","classes_to_render","key","n","_e","style","r","_r","results","includes","filtered_methods","filter","filtered_enums","val","category","categories","toggleClass","elements","api_filter","num_constants","Constants","handleCategoryClick","Resources","rel","Foreword","Lua","SupportedFileExtensions","ModChartSetup","Quad","BitmapText","Sprite","Actor","LoadActor","Sound","ActorMultiVertex","ActorFrameTexture","Model","SCREENMAN","SOUND","Debugging","ArbitraryInput","SimpleTweens","App","old_pathname","component","render","routeProps","CommandChaining","ReactDOM","basename","process"],"mappings":"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","file":"static/js/main.2af6fe3f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\n\nclass Header extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<nav id=\"topbar\" className=\"navbar navbar-expand-sm navbar-dark bg-dark fixed-top\">\n\n\t\t\t\t<img src=\"/Lua-For-SM5/img/stepmania.png\" className=\"navbar-brand\" alt=\"\" width=\"25\" />\n\t\t\t\t<span className=\"navbar-brand\">\n\t\t\t\t\tLua for SM5\n\t\t\t\t</span>\n\n\t\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t\t\t</button>\n\n\t\t \t\t<div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n\t\t\t\t\t<ul className=\"navbar-nav\">\n\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t<NavLink className=\"nav-link\" exact to=\"/\">Home</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t<NavLink className=\"nav-link\" to=\"/LuaAPI\">Lua API</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t<NavLink className=\"nav-link\" to=\"/resources\">Other Resources</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n \t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n}\n\nexport default Header","import React, { Component } from \"react\"\nimport { NavLink } from \"react-router-dom\"\nimport $ from \"jquery\"\n\nclass GuidesSidebar extends Component {\n\n\tcomponentDidMount(){\n\t\t[1,2,3,4,5].forEach(function(i){\n\t\t\tconst el = $(\"#collapse-\" + i)\n\t\t\tconst listitem_anchors = el.find('li a')\n\n\t\t\tlistitem_anchors.each(function(j, anchor){\n\t\t\t\tif ($(anchor).hasClass(\"active\")){\n\t\t\t\t\t// ensure the proper bootstrap accordion section is open\n\t\t\t\t\tel.addClass(\"show\")\n\t\t\t\t\t// ensure the proper styling rules are applied to accordion section header\n\t\t\t\t\t$(\"#heading-\" + i + \" h5 a\").removeClass(\"collapsed\")\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"GuidesSidebar\">\n\t\t\t\t<div>\n\t\t\t\t\t<div id=\"heading-1\">\n\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t<NavLink to=\"#\" className=\"collapsed\" data-toggle=\"collapse\" data-target=\"#collapse-1\" aria-expanded=\"false\" aria-controls=\"collapse-1\">\n\t\t\t\t\t\t\t\tIntroduction\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id=\"collapse-1\" className=\"collapse\" aria-labelledby=\"heading-1\" data-parent=\"#sidebar\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><NavLink to=\"/foreword\">What Are Actors?</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/lua\">Lua changes from SM3.95</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Supported-File-Extensions\">Supported File Extensions</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Mod-Chart-Setup\">Setting Up a \"Mod\" Chart</NavLink></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t\t<div>\n\t\t\t\t\t<div id=\"heading-2\">\n\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t<NavLink to=\"#\" className=\"collapsed\" data-toggle=\"collapse\" data-target=\"#collapse-2\" aria-expanded=\"false\" aria-controls=\"collapse-2\">\n\t\t\t\t\t\t\t\tActors\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"collapse-2\" className=\"collapse\" aria-labelledby=\"heading-2\" data-parent=\"#sidebar\">\n\t\t\t\t      <ul>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Def.Quad\">Quad</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Def.BitmapText\">BitmapText</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Def.Sprite\">Sprite</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Def.Actor\">Actor</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/LoadActor\">LoadActor()</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Def.Sound\">Sound</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Def.Model\">Model</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Def.ActorMultiVertex\">ActorMultiVertex</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Def.ActorFrameTexture\">ActorFrameTexture</NavLink></li>\n\t\t\t\t      </ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t  <div>\n\t\t\t    <div id=\"heading-3\">\n\t\t\t      <h5>\n\t\t\t        <NavLink to=\"#\" className=\"collapsed\" data-toggle=\"collapse\" data-target=\"#collapse-3\" aria-expanded=\"false\" aria-controls=\"collapse-3\">\n\t\t\t          Singletons\n\t\t\t        </NavLink>\n\t\t\t      </h5>\n\t\t\t    </div>\n\t\t\t    <div id=\"collapse-3\" className=\"collapse\" aria-labelledby=\"heading-3\" data-parent=\"#sidebar\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><NavLink to=\"/SCREENMAN\">SCREENMAN</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/SOUND\">SOUND</NavLink></li>\n\t\t\t\t\t\t</ul>\n\t\t\t    </div>\n\t\t\t  </div>\n\n\n\n\t\t\t  <div>\n\t\t\t    <div id=\"heading-4\">\n\t\t\t      <h5>\n\t\t\t        <NavLink to=\"#\" className=\"collapsed\" data-toggle=\"collapse\" data-target=\"#collapse-4\" aria-expanded=\"false\" aria-controls=\"collapse-4\">\n\t\t\t          Best Practices\n\t\t\t        </NavLink>\n\t\t\t      </h5>\n\t\t\t    </div>\n\t\t\t\t\t<div id=\"collapse-4\" className=\"collapse\" aria-labelledby=\"heading-4\" data-parent=\"#sidebar\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Debugging\">Debugging</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Command-Chaining\">Command Chaining</NavLink></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t  </div>\n\n\n\t\t\t  <div>\n\t\t\t    <div id=\"heading-5\">\n\t\t\t      <h5>\n\t\t\t        <NavLink to=\"#\" className=\"collapsed\" data-toggle=\"collapse\" data-target=\"#collapse-5\" aria-expanded=\"false\" aria-controls=\"collapse-5\">\n\t\t\t          Examples\n\t\t\t        </NavLink>\n\t\t\t      </h5>\n\t\t\t    </div>\n\t\t\t    <div id=\"collapse-5\" className=\"collapse\" aria-labelledby=\"heading-5\" data-parent=\"#sidebar\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Arbitrary-Input\">Handling Arbitrary Input</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/Simple-Tweens\">Simple Tweens</NavLink></li>\n\t\t\t\t\t\t</ul>\n\t\t\t    </div>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default GuidesSidebar","import React from \"react\";\n\nclass LuaAPIFilter extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.handleFilter = this.handleFilter.bind(this)\n\n\t\t// the LuaAPI doesn't need to be filtered and re-filtered with each new keyup event\n\t\t// instead, wait 200ms for keyup events to cease before calling filterResults()\n\t\t// these variables are used as part of that 0.2 second timeout system\n\t\t// see: https://stackoverflow.com/a/5926782\n\t\tthis.typingTimer = null\n\t\tthis.doneTypingInterval = 200\n\t}\n\n\thandleFilter(e){\n\n\t\tconst eventValue = e.target.value\n\t\tconst filter_object = this\n\n\t\tclearTimeout(this.typingTimer)\n\n\t\tthis.typingTimer = setTimeout(\n\t\t\tfunction() {\n\t\t\t\tfilter_object.props.onFilterChange(eventValue.toUpperCase())\n\t\t\t},\n\t\t\tthis.doneTypingInterval\n\t\t)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<fieldset>\n\t\t\t\t<label htmlFor=\"filter\">API Search:</label><br/>\n\t\t\t\t<input type=\"text\" id=\"filter\" onChange={this.handleFilter} />\n\t\t\t</fieldset>\n\t\t)\n  }\n}\n\nexport default LuaAPIFilter","import React, { Component } from \"react\"\nimport LuaAPIFilter from \"../LuaAPI/LuaAPIFilter\"\n\nclass Sidebar extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.handleFilterChange = this.handleFilterChange.bind(this)\n\t}\n\n\thandleFilterChange(eventValue){\n\t\tthis.props.onFilterChange(eventValue)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"LuaAPISidebar\">\n\n\t\t\t\t<div className=\"d-none d-md-block\">\n\t\t\t\t\t<LuaAPIFilter onFilterChange={this.handleFilterChange} />\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\n\t\t\t\t<h5>\n\t\t\t\t\t<a href=\"#Actors\">\n\t\t\t\t\t\tActor Classes\n\t\t\t\t\t</a>\n\t\t\t\t</h5>\n\t\t\t\t<h5>\n\t\t\t\t\t<a href=\"#Namespaces\">\n\t\t\t\t\t\tNamespaces\n\t\t\t\t\t</a>\n\t\t\t\t</h5>\n\t\t\t\t<h5>\n\t\t\t\t\t<a href=\"#Enums\">\n\t\t\t\t\t\tEnums\n\t\t\t\t\t</a>\n\t\t\t\t</h5>\n\t\t\t\t<h5>\n\t\t\t\t\t<a href=\"#Singletons\">\n\t\t\t\t\t\tSingletons\n\t\t\t\t\t</a>\n\t\t\t\t</h5>\n\t\t\t\t<h5>\n\t\t\t\t\t<a href=\"#GlobalFunctions\">\n\t\t\t\t\t\tGlobal Functions\n\t\t\t\t\t</a>\n\t\t\t\t</h5>\n\t\t\t\t<h5>\n\t\t\t\t\t<a href=\"#Constants\">\n\t\t\t\t\t\tConstants\n\t\t\t\t\t</a>\n\t\t\t\t</h5>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Sidebar;","import React, { Component } from \"react\"\nimport { Route, Switch } from \"react-router-dom\"\nimport GuidesSidebar from \"./GuidesSidebar\"\nimport LuaAPISidebar from \"./LuaAPISidebar\"\nimport $ from \"jquery\"\n\nclass Sidebar extends Component {\n\n\tconstructor(){\n\t\tsuper()\n\t\t// listen for window resizing and move the sizebar accordingly\n\t\twindow.addEventListener(\"resize\", this.HandleResize)\n\n\t\tthis.handleFilterChange = this.handleFilterChange.bind(this)\n\t}\n\n\tHandleResize(){\n\t\tconst md = 768\n\n\t\tif (window.innerWidth < md){\n\t\t\t$(\"#sidebar\").removeClass(\"position-fixed\")\n\t\t} else {\n\t\t\t$(\"#sidebar\").addClass(\"position-fixed\")\n\t\t}\n\t}\n\n\thandleFilterChange(eventValue){\n\t\tthis.props.onFilterChange(eventValue)\n\t}\n\n\trender() {\n\t\treturn(\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/LuaAPI\">\n\t\t\t\t\t<LuaAPISidebar onFilterChange={this.handleFilterChange} />\n\t\t\t\t</Route>\n\n\t\t\t\t<GuidesSidebar />\n\t\t\t</Switch>\n\t\t)\n\t}\n}\n\nexport default Sidebar;","import React, { Component } from \"react\";\nimport Sidebar from \"./Sidebar\";\n\nclass ContentNavigation extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.handleFilterChange = this.handleFilterChange.bind(this)\n\t}\n\n\thandleFilterChange(eventValue){\n\t\tthis.props.onFilterChange(eventValue)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div id=\"sidebar\" className=\"accordion w-100 h-100 position-fixed\">\n\t\t\t\t\t<Sidebar onFilterChange={this.handleFilterChange} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ContentNavigation;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Home extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Lua for StepMania 5</h1>\n\n\t\t\t\t<p>\n\t\t\t\t\tHello there!  In these pages, you&apos;ll find my <strong>Lua for SM5</strong> guide, comprised of various chapters organized under the headers <span className=\"d-none d-md-inline d-lg-inline d-xl-inline\">on the right</span> <span className=\"d-xl-none d-lg-none d-md-none\">at the bottom</span> of this page.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tIf you&apos;re unsure of where to start, check out the chapter on <Link to=\"/Foreword\">What Are Actors?</Link> to get a sense of how Lua files are organized in StepMania 5.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tStepMania 5&apos;s complete Lua API documentation can be found in its Lua.xml file, which ships with releases of StepMania 5 in the <samp>./Docs/Luadoc/</samp> directory and can be viewed in most web browsers. I have also hosted a copy as part of this website: <Link to=\"/LuaAPI\">Lua For SM5: Lua API</Link>.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tYou can find additional resources for learning about Lua and SM5 scripting on the <Link to=\"/Resources\">Other Resources</Link> page.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;","import React, { Component } from \"react\";\nimport Octicon from 'react-octicon'\n\nclass ActorClass extends Component {\n\n\tconstructor(){\n\t\tsuper()\n\t\t// ensure that these functions have access to \"this\"\n\t\tthis.updateHash = this.updateHash.bind(this)\n\t}\n\n\tupdateHash(){\n\t\twindow.location.hash = \"#Actors-\" + this.props.actor.name\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div id={\"Actors-\" + this.props.actor.name} className=\"actor-class\">\n\t\t\t\t<h3>\n\t\t\t\t\t<Octicon onClick={this.updateHash} name=\"link\" />\n\t\t\t\t\t{this.props.actor.name}\n\t\t\t\t\t<span className=\"base\" dangerouslySetInnerHTML={{ __html: this.props.actor.base }}  />\n\t\t\t\t</h3>\n\t\t\t\t<hr />\n\n\t\t\t\t<span className=\"actorclass-description\" dangerouslySetInnerHTML={{__html: this.props.actor.desc}} />\n\n\t\t\t\t{this.props.methods}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ActorClass;","import React, { Component } from \"react\";\nimport Octicon from 'react-octicon'\n\nclass ActorMethod extends Component {\n\n\tconstructor(){\n\t\tsuper()\n\t\t// ensure that these functions have access to \"this\"\n\t\tthis.updateHash = this.updateHash.bind(this)\n\t}\n\n\tupdateHash(){\n\t\twindow.location.hash = \"#Actors-\" + this.props.actor.name +  \"-\" + this.props.method.name\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div id={\"Actors-\" + this.props.actor.name +  \"-\" + this.props.method.name} className=\"method\">\n\t\t\t\t<div className=\"method-signature\">\n\t\t\t\t\t<Octicon onClick={this.updateHash} name=\"link\" />\n\t\t\t\t\t{this.props.method.name}\n\t\t\t\t\t(<code>{this.props.method.arguments}</code>)\n\t\t\t\t</div>\n\n\t\t\t\t<span className=\"method-return\"><em>return: </em> <span dangerouslySetInnerHTML={{__html: this.props.method.return}} />  </span>\n\t\t\t\t<span className=\"method-description\" dangerouslySetInnerHTML={{ __html: this.props.method.desc }} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ActorMethod;","import React, { Component } from \"react\";\nimport Octicon from 'react-octicon'\n\nclass Namespace extends Component {\n\n\tconstructor(){\n\t\tsuper()\n\t\t// ensure that these functions have access to \"this\"\n\t\tthis.updateHash = this.updateHash.bind(this)\n\t}\n\n\tupdateHash(){\n\t\twindow.location.hash = \"#Namespaces-\" + this.props.namespace.name\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div id={\"Namespaces-\" + this.props.namespace.name} className=\"actor-class\">\n\t\t\t\t<h3>\n\t\t\t\t\t<Octicon onClick={this.updateHash} name=\"link\" />\n\t\t\t\t\t{this.props.namespace.name}\n\t\t\t\t</h3>\n\t\t\t\t<hr />\n\n\t\t\t\t{this.props.methods}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Namespace;","import React, { Component } from \"react\";\nimport Octicon from 'react-octicon'\n\nclass NamespaceMethod extends Component {\n\n\tconstructor(){\n\t\tsuper()\n\t\t// ensure that these functions have access to \"this\"\n\t\tthis.updateHash = this.updateHash.bind(this)\n\t}\n\n\tupdateHash(){\n\t\twindow.location.hash = \"#Namespaces-\" + this.props.namespace.name +  \"-\" + this.props.method.name\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div id={\"Namespaces-\" + this.props.namespace.name +  \"-\" + this.props.method.name} className=\"method\">\n\t\t\t\t<div className=\"method-signature\">\n\t\t\t\t\t<Octicon onClick={this.updateHash} name=\"link\" />\n\t\t\t\t\t{this.props.method.name}\n\t\t\t\t\t(<code>{this.props.method.arguments}</code>)\n\t\t\t\t</div>\n\n\t\t\t\t<span className=\"method-return\"><em>return: </em> <span dangerouslySetInnerHTML={{__html: this.props.method.return}} />  </span>\n\t\t\t\t<span className=\"method-description\" dangerouslySetInnerHTML={{ __html: this.props.method.desc }} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default NamespaceMethod;","import React, { Component } from \"react\";\nimport Octicon from 'react-octicon'\n\nimport ActorClass from \"./ActorClass\"\nimport ActorMethod from \"./ActorMethod\"\nimport Namespace from \"./Namespace\"\nimport NamespaceMethod from \"./NamespaceMethod\"\nimport LuaAPIFilter from \"./LuaAPIFilter\"\n\nimport $ from \"jquery\";\nimport \"../_styles/api.css\";\n\nclass LuaAPI extends Component {\n\n\tconstructor(props){\n\t\tsuper()\n\n\t\tthis.state = {\n\t\t\tisLoaded: false,\n\n\t\t\tmobile_api_filter: \"\",\n\n\t\t\tvisible_categories: {\n\t\t\t\t\"Actors\": true,\n\t\t\t\t\"Namespaces\": true,\n\t\t\t\t\"Enums\": true,\n\t\t\t\t\"Singletons\": true,\n\t\t\t\t\"GlobalFunctions\": true,\n\t\t\t\t\"Constants\": true\n\t\t\t}\n\t\t}\n\n\t\t// maintain a handle on this class to be used within the functions below\n\t\tconst lua_api = this\n\n\t\t// a pojo containing just the actor class names as keys\n\t\t// used for lookup purposes in getReturnValue()\n\t\tthis.actor_class_names = {}\n\n\t\t// ensure that the following functions have access to \"this\"\n\t\tthis.filterResults= this.filterResults.bind(this)\n\t\tthis.getReturnValue = this.getReturnValue.bind(this)\n\t\tthis.handleFilterChangeMobile = this.handleFilterChangeMobile.bind(this)\n\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst get_base = function(actors_with_base, actor_class){\n\t\t\tconst _class = $(actors_with_base).find(\"Class[name='\" + actor_class + \"']\")\n\n\t\t\tif (_class[0] && _class[0].attributes.base){\n\t\t\t\tconst base = _class[0].attributes.base.textContent\n\t\t\t\treturn \" : <a href='#Actors-\" + base + \"'>\" + base + \"</a>\"\n\t\t\t}\n\t\t\treturn null\n\t\t}\n\n\t\t// some method descriptions contain <Link /> elements, intended to serve\n\t\t// as anchors to elsewhere within the document\n\t\t// we need to find and replace them with html-compliant anchors\n\t\tconst check_for_links = function(method){\n\n\t\t\tconst class_is_a_namespace = function(_class){\n\t\t\t\tfor (let i=0; i < lua_api.namespaces.length; i++){\n\t\t\t\t\tif (lua_api.namespaces[i]===_class){ return true }\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}\n\n\n\t\t\tconst trimmed_innerHTML = method.innerHTML.trim()\n\n\t\t\t// first, attempt to handle <Link>text</Link> elements\n\t\t\tlet _matches = trimmed_innerHTML.match(/(<\\s*link[^>]*>)(.*?)<\\s*\\/\\s*link>/i)\n\t\t\tif (_matches){\n\t\t\t\tlet anchors = []\n\n\t\t\t\t_matches.forEach(function(_match){\n\t\t\t\t\tconst text = _matches[2]\n\t\t\t\t\tconst _link = $.parseHTML(_matches[1])\n\t\t\t\t\tlet _class = _link[0].attributes.getNamedItem(\"class\")\n\t\t\t\t\t_class = _class && _class.nodeValue\n\t\t\t\t\tconst _function = _link[0].attributes.getNamedItem(\"function\").nodeValue\n\n\t\t\t\t\tif (_class){\n\t\t\t\t\t\tif (_class === \"ENUM\"){\n\t\t\t\t\t\t\tif (_function){\n\t\t\t\t\t\t\t\t// create the anchor string for this Enum\n\t\t\t\t\t\t\t\tconst anchor = \"<a href='#Enums-\" + _function + \"'>\" + text + \"</a>\"\n\t\t\t\t\t\t\t\tanchors.push(anchor)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (class_is_a_namespace(_class)) {\n\t\t\t\t\t\t\t// create the anchor string for this Lua Namespace\n\t\t\t\t\t\t\tconst anchor = \"<a href='#Namespaces-\" + _class + \"-\" + _function + \"'>\" + text + \"</a>\"\n\t\t\t\t\t\t\tanchors.push(anchor)\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_function){\n\t\t\t\t\t\t\t\t// create the anchor string for this Actor Class\n\t\t\t\t\t\t\t\tconst anchor = \"<a href='#Actors-\" + _class + \"-\" + _function + \"'>\" + text + \"</a>\"\n\t\t\t\t\t\t\t\tanchors.push(anchor)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// It was possible in LuaDocumentation.xml to create <Link> to some other method\n\t\t\t\t\t\t// within the current Actor Class with a compact syntax like <Link function=\"zoomy\"/>\n\t\t\t\t\t\t// Unfortunately, that leaves us trying to figure out what the \"current Actor Class\" is\n\t\t\t\t\t\t// in the context of this React app.  We'll get the parentNode of the method object.\n\t\t\t\t\t\tconst _parent_class = method.parentNode.nodeName\n\n\t\t\t\t\t\tif (_parent_class === \"GlobalFunctions\"){\n\t\t\t\t\t\t\tconst anchor = \"<a href='#GlobalFunctions-\" + _function + \"'>\" + text + \"</a>\"\n\t\t\t\t\t\t\tanchors.push(anchor)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tlet _i = 0\n\t\t\t\t// substitute each new anchor string for the appropriate old <Link>text</Link>\n\t\t\t\treturn trimmed_innerHTML.replace(/<\\s*link[^>]*>.*?<\\s*\\/\\s*link>/i, function(match){\n\t\t\t\t\treturn anchors[_i++]\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// next, attempt to handle <Link /> elements\n\t\t\t_matches = trimmed_innerHTML.match(/<\\s*link[^>]*\\/>/ig)\n\t\t\tif (_matches){\n\t\t\t\tlet anchors = []\n\n\t\t\t\t_matches.forEach(function(_match){\n\n\t\t\t\t\tconst _link = $.parseHTML(_match)\n\t\t\t\t\tlet _class = _link[0].attributes.getNamedItem(\"class\")\n\t\t\t\t\t_class = _class && _class.nodeValue\n\t\t\t\t\tlet _function = _link[0].attributes.getNamedItem(\"function\")\n\t\t\t\t\t_function = _function && _function.nodeValue\n\n\t\t\t\t\tif (_class){\n\t\t\t\t\t\tif (_class === \"ENUM\"){\n\t\t\t\t\t\t\tif (_function){\n\t\t\t\t\t\t\t\t// create the anchor string for this Enum\n\t\t\t\t\t\t\t\tconst anchor = \"<a href='#Enums-\" + _function + \"'>\" + _function + \"</a>\"\n\t\t\t\t\t\t\t\tanchors.push(anchor)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (_class === \"GLOBAL\"){\n\t\t\t\t\t\t\tif (_function){\n\t\t\t\t\t\t\t\t// create the anchor string for this Global Function\n\t\t\t\t\t \t\t\tconst anchor = \"<a href='#GlobalFunctions-\" + _function + \"'>\" + _function + \"</a>\"\n\t\t\t\t\t\t\t\tanchors.push(anchor)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif (_function){\n\t\t\t\t\t\t\t\t// create the anchor string for this Actor Class\n\t\t\t\t\t\t\t\tconst anchor = \"<a href='#Actors-\" + _class + \"-\" + _function + \"'>\" + _class +  \".\" + _function + \"</a>\"\n\t\t\t\t\t\t\t\tanchors.push(anchor)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst anchor = \"<a href='#Actors-\" + _class + \"'>\" + _class + \"</a>\"\n\t\t\t\t\t\t\t\tanchors.push(anchor)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// It was possible in LuaDocumentation.xml to create <Link> to some other method\n\t\t\t\t\t\t// within the current Actor Class with a compact syntax like <Link function=\"zoomy\"/>\n\t\t\t\t\t\t// Unfortunately, that leaves us trying to figure out what the \"current Actor Class\" is\n\t\t\t\t\t\t// in the context of this React app.  We'll get the parentNode of the method object.\n\t\t\t\t\t\tconst _parent_class = method.parentNode.attributes.getNamedItem(\"name\").nodeValue\n\t\t\t\t\t\tconst anchor = \"<a href='#Actors-\" + _parent_class + \"-\" + _function + \"'>\" + _parent_class +  \".\" + _function + \"</a>\"\n\t\t\t\t\t\tanchors.push(anchor)\n\t\t\t\t\t}\n\n\t\t\t\t})\n\n\t\t\t\t// temp variable used within the replace() function below in the event of multiple replaces being needed\n\t\t\t\tlet _i = 0\n\t\t\t\t// substitute each new anchor string for the appropriate old <Link>text</Link>\n\t\t\t\treturn trimmed_innerHTML.replace(/<\\s*link[^>]*\\/>/gi, function(match){\n\t\t\t\t\treturn anchors[_i++]\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// otherwise, no <Link> elements were found, so just return the method description\n\t\t\treturn trimmed_innerHTML\n\t\t}\n\n\t\t// ---------------------------------------------------------------------\n\n\t\t$.ajax({\n\t\t\turl: \"./Luadoc/LuaDocumentation.xml\"\n\n\t\t}).done(function(lua_documentation){\n\n\t\t\t$.ajax({\n\t\t\t\turl: \"./Luadoc/Lua.xml\"\n\t\t\t}).done(function(lua_dot_xml){\n\n\t\t\t\t// We have two xml files to retrieve data from, lua_documentation and lua_dot_xml\n\t\t\t\t// I don't fully understand why the documentation is split across them the way it is,\n\t\t\t\t// but it doesn't really matter, we just have to know where to look for what.\n\n\t\t\t\t// Actor classes are *mostly* described in LuaDocumentation.xml, but the \"base\" class of each\n\t\t\t\t// is actually defined in Lua.xml.  We'll need to combine the two data sources.\n\t\t\t\tconst actors_with_base = $(lua_dot_xml).children()[0].children[1]\n\t\t\t\tconst actor_classes = Array.from($(lua_documentation).children().find(\"Classes Class\"))\n\n\t\t\t\tconst namespaces = Array.from($(lua_documentation).children().find(\"Namespaces Namespace\"))\n\t\t\t\tconst enums = Array.from($(lua_dot_xml).children().find(\"Enums Enum\"))\n\t\t\t\tconst singletons = Array.from($(lua_dot_xml).children().find(\"Singletons Singleton\"))\n\t\t\t\tconst global_functions = Array.from($(lua_documentation).children().find(\"GlobalFunctions Function\"))\n\t\t\t\tconst constants = Array.from($(lua_dot_xml).children().find(\"Constants Constant\"))\n\n\n\t\t\t\t// actor classes, namespaces, enums, singletons, global functions, constants\n\t\t\t\tlet data = [ [], [], [], [], [], [] ]\n\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// first, populate the actor_class_names object with the names of each actor class\n\t\t\t\t// we'll need this to check against in the next forEach loop below\n\t\t\t\tconst actor_class_names = {}\n\n\t\t\t\tactor_classes.forEach(function(actor_class){\n\t\t\t\t\tactor_class_names[actor_class.attributes.name.textContent] = true\n\t\t\t\t})\n\n\t\t\t\t// retain the actor_class_names object as state so we can refer to it in getReturnValue()\n\t\t\t\tlua_api.actor_class_names = actor_class_names\n\n\t\t\t\t// include the SM5 Lua Namespace names for convenience, too\n\t\t\t\tlua_api.namespaces = namespaces.map(function(namespace){\n\t\t\t\t\treturn namespace.attributes[0].nodeValue\n\t\t\t\t})\n\n\t\t\t\t// now, do the \"heavy lifting\"\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// process each actor_class...\n\t\t\t\tactor_classes.forEach(function(actor_class){\n\n\t\t\t\t\tlet unsorted_methods = Array.from($(actor_class).find(\"Function\"))\n\n\t\t\t\t\t// ... sorting each actor class's methods alphabetically, in a case-insensitive manner ...\n\t\t\t\t\tunsorted_methods.sort(function(a,b){\n\t\t\t\t\t\t// I'm pretty sure all the text I'm sorting here falls within the ASCII range of 32-126\n\t\t\t\t\t\t// otherwise, I might not be able to rely on doing greater-than less-than comparisons like this\n\t\t\t\t\t\t// for discussion, see: https://stackoverflow.com/q/14677060\n\t\t\t\t\t\tif (a.attributes.name.textContent.toUpperCase() < b.attributes.name.textContent.toUpperCase()){ return -1}\n\t\t\t\t\t\tif (a.attributes.name.textContent.toUpperCase() > b.attributes.name.textContent.toUpperCase()){ return 1}\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t})\n\n\t\t\t\t\t// ... and get just the method data we want (name, return, args, description) for each method\n\t\t\t\t\tconst sorted_methods = unsorted_methods.map(function(method, i){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: method.attributes.name.textContent,\n\t\t\t\t\t\t\treturn: lua_api.getReturnValue(method.attributes.return.textContent),\n\t\t\t\t\t\t\targuments: method.attributes.arguments.textContent,\n\t\t\t\t\t\t\tdesc: check_for_links(method)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t\t// some Actor classes have <Description> tags which contain text describing the overall class\n\t\t\t\t\tlet class_desc = $(actor_class).find(\"Description\")\n\n\t\t\t\t\t// push a new object representing this actor_class to the overall data array\n\t\t\t\t\tdata[0].push({\n\t\t\t\t\t\tname: actor_class.attributes.name.textContent,\n\t\t\t\t\t\tbase: get_base(actors_with_base, actor_class.attributes.name.textContent),\n\t\t\t\t\t\tdesc: class_desc[0] !== undefined ? class_desc[0].innerHTML : null,\n\t\t\t\t\t\tmethods: sorted_methods\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// next, process each namespace...\n\t\t\t\tnamespaces.forEach(function(namespace){\n\t\t\t\t\tconst _methods = Array.from($(namespace).find(\"Function\"))\n\t\t\t\t\tconst methods = _methods.map(function(method, i){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: method.attributes.name.textContent,\n\t\t\t\t\t\t\treturn: lua_api.getReturnValue(method.attributes.return.textContent),\n\t\t\t\t\t\t\targuments: method.attributes.arguments.textContent,\n\t\t\t\t\t\t\tdesc: check_for_links(method)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t\tdata[1].push({\n\t\t\t\t\t\tname: namespace.attributes.name.textContent,\n\t\t\t\t\t\tmethods: methods\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// next, process each enum...\n\t\t\t\tenums.forEach(function(e){\n\t\t\t\t\tconst _values = Array.from($(e).find(\"EnumValue\"))\n\t\t\t\t\tconst values = _values.map(function(v, i){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: v.attributes.name.textContent,\n\t\t\t\t\t\t\tvalue: v.attributes.value.textContent\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t\tdata[2].push({\n\t\t\t\t\t\tname: e.attributes.name.textContent,\n\t\t\t\t\t\tvalues: values\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// almost done now; process each singleton...\n\t\t\t\tsingletons.forEach(function(s){\n\t\t\t\t\tdata[3].push({\n\t\t\t\t\t\tname: s.attributes.name.textContent,\n\t\t\t\t\t\tactor_class: s.attributes.class.textContent\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// almost done! process each global function...\n\t\t\t\tglobal_functions.forEach(function(f){\n\t\t\t\t\tdata[4].push({\n\t\t\t\t\t\tname: f.attributes.name.textContent,\n\t\t\t\t\t\treturn: f.attributes.return.textContent,\n\t\t\t\t\t\targuments: f.attributes.arguments.textContent,\n\t\t\t\t\t\tdesc: check_for_links(f)\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// finally! process each Lua constant, and we're done\n\t\t\t\tconstants.forEach(function(c){\n\t\t\t\t\tdata[5].push({\n\t\t\t\t\t\tname: c.attributes.name.textContent,\n\t\t\t\t\t\tvalue: c.attributes.value.textContent\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// cache all render-able elements now so that we don't need to constantly recompute them\n\t\t\t\tlua_api.all_elements = lua_api.get_elements_to_render(data)\n\n\t\t\t\t// ---------------------------------------------------------------------\n\t\t\t\t// we're out of the \"heavy lifting\" forEach loop; it's time to setState\n\t\t\t\tlua_api.setState({\n\t\t\t\t\tisLoaded: true,\n\t\t\t\t\tactor_classes: data[0],\n\t\t\t\t\tnamespaces: data[1],\n\t\t\t\t\tenums: data[2],\n\t\t\t\t\tsingletons: data[3],\n\t\t\t\t\tglobal_functions: data[4],\n\t\t\t\t\tconstants: data[5]\n\t\t\t\t})\n\n\t\t\t\t// scroll the page to the appropriate y-offset if needed\n\t\t\t\tlua_api.scroll_window_after_hashchange()\n\n\t\t\t\t// ensure that future hashchanges scroll the appropriate amount, too\n\t\t\t\twindow.addEventListener(\"hashchange\", function(e){\n\t\t\t\t\tlua_api.scroll_window_after_hashchange()\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}\n\n\tscroll_window_after_hashchange(){\n\t\t// now that the data has been retrieved, parsed, and injected into the document,\n\t\t// check the url string for a hash and scroll the window to the appropriate y-offset\n\t\tconst window_hash = window.location.hash.replace(\"#\",\"\")\n\t\tif (window_hash) {\n\t\t\tconst el = document.getElementById(window_hash)\n\t\t\tif (el){\n\t\t\t\tconst y_offset = el.offsetTop\n\t\t\t\tif (y_offset){\n\t\t\t\t\tconst topbar_height = 75\n\t\t\t\t\twindow.scrollTo(0, y_offset-topbar_height)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tget_elements_to_render(classes_to_render){\n\n\t\treturn {\n\t\t\t\"Actors\": classes_to_render[0].map(function(actor, i){\n\t\t\t\tconst methods = actor.methods.map(function(method, j){\n\t\t\t\t\treturn <ActorMethod actor={actor} method={method} key={actor.name + \"-\" + method.name + j} />\n\t\t\t\t})\n\t\t\t\treturn <ActorClass actor={actor} methods={methods} key={actor.name} />\n\t\t\t}),\n\n\t\t\t\"Namespaces\": classes_to_render[1].map(function(n, i){\n\t\t\t\tconst methods = n.methods.map(function(method, j){\n\t\t\t\t\treturn <NamespaceMethod namespace={n} method={method} key={n.name + \"-\" + method.name + j} />\n\t\t\t\t})\n\t\t\t\treturn <Namespace namespace={n} methods={methods} key={n.name} />\n\t\t\t}),\n\n\t\t\t// the Enums are simple enough to not warrant full React components; just handle them here\n\t\t\t\"Enums\": classes_to_render[2].map(function(e, i){\n\n\t\t\t\tconst values = e.values.map(function(_e, j){\n\t\t\t\t\treturn( <tr key={\"enum-\"+e.name+\"-\"+_e.name+\"-\"+j}><td>{_e.name}</td><td>{_e.value}</td></tr> )\n\t\t\t\t})\n\t\t\t\treturn (\n\t\t\t\t\t<table id={\"Enums-\" + e.name} className=\"table table-hover table-sm table-bordered\" key={\"enum-\"+e.name}>\n\t\t\t\t\t\t<thead className=\"table-primary\"><tr><th><strong>{e.name}</strong></th><th style={{width:15+\"%\"}}>Value</th></tr></thead>\n\t\t\t\t\t\t<tbody>{values}</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t)\n\t\t\t}),\n\n\n\t\t\t\"Singletons\": (\n\t\t\t\t<ul id=\"Singletons\">\n\t\t\t\t\t{classes_to_render[3].map(function(s, i){\n\t\t\t\t\t\treturn(<li key={\"singleton-\"+s.name}><a href={\"#Actors-\"+s.actor_class}>{s.name}</a></li>)\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t),\n\n\t\t\t\"GlobalFunctions\":(\n\t\t\t\t<div className=\"GlobalFunctions actor-class\">\n\n\t\t\t\t{classes_to_render[4].map(function(f, i){\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<div id={\"GlobalFunctions-\" + f.name} className=\"method\" key={\"GlobalFunction-\"+f.name+\"-\"+i}>\n\t\t\t\t\t\t\t<div className=\"method-signature\">\n\t\t\t\t\t\t\t\t<Octicon onClick={ function() { window.location.hash = \"#GlobalFunctions-\" + f.name } } name=\"link\" />\n\t\t\t\t\t\t\t\t{f.name}\n\t\t\t\t\t\t\t\t(<code>{f.arguments}</code>)\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<span className=\"method-return\"><em>return: </em> <span dangerouslySetInnerHTML={{__html: f.return}} />  </span>\n\t\t\t\t\t\t\t<span className=\"method-description\" dangerouslySetInnerHTML={{ __html: f.desc }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t</div>\n\n\t\t\t),\n\n\t\t\t\"Constants\": (\n\t\t\t\t\t<table id={\"Constants\"} className=\"table table-hover table-sm table-bordered\">\n\t\t\t\t\t\t<thead className=\"table-primary\"><tr><th><strong>Lua Variable</strong></th><th>Value</th></tr></thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{classes_to_render[5].map(function(c, i){\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<tr key={\"constant-\"+c.name}>\n\t\t\t\t\t\t\t\t\t\t<td>{c.name}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{c.value}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t)\n\t\t}\n\t}\n\n\n\t// a helper function to determine whether the \"return\" type of each API method\n\t// should be static text or an anchor linking to elsewhere in the document\n\tgetReturnValue(r){\n\t\t// if the return text for this method exactly matches \"void\" just use that\n\t\tif (r === \"void\"){ return r }\n\n\t\t// next, check to see if the return text matches any of the actor classes\n\t\tif (this.actor_class_names[r]){\n\t\t\treturn \"<a href='#Actors-\" + r +\"'>\" + r + \"</a>\"\n\t\t}\n\n\t\t// maybe this method's return value is an Actor wrapped in curly braces\n\t\t// indicating that this method returns a table of Actors\n\t\t// (though, it could also be \"float\" wrapped in curly braces,\n\t\t// which we don't want to try to try to create an anchor to)\n\t\tconst _r = r.match(/{(.+)}/)\n\t\tif (_r && this.actor_class_names[_r[1]]){\n\t\t\treturn \"{ <a href='#Actors-\" + _r[1] +\"'>\" + _r[1] + \"</a> }\"\n\t\t}\n\n\t\t// otherwise, we have something like \"bool\" or \"int\"; just return it\n\t\treturn r\n\t}\n\n\n\t// -----------------------------------------------------------------------------------------\n\t// API TEXT FILTER\n\t// -----------------------------------------------------------------------------------------\n\n\n\t// this methods exists to handle the text-input field that appears in mobile layout\n\thandleFilterChangeMobile(eventValue){\n\t\tthis.setState({mobile_api_filter: eventValue})\n\t}\n\n\tfilterResults(eventValue){\n\n\t\tlet results = [ [], [], [], [], [], [] ]\n\n\t\t// ---------------------------------------------------------------------\n\t\t// loop through all actor classes stored in state, searching for string matches in various ways\n\t\tthis.state.actor_classes.forEach(function(actor){\n\n\t\t\t// if name of this entire actor class includes the user-input string,\n\t\t\t// OR if the base of this actor class includes the user-input string\n\t\t\tif (actor.name.toUpperCase().includes(eventValue) || (actor.base && actor.base.toUpperCase().includes(eventValue))){\n\t\t\t\t// push the entire actor class and all its methods to the array of filtered results\n\t\t\t\tresults[0].push(actor)\n\t\t\t\t// and continue to the next actor class\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// otherwise, loop through the methods available to this actor, using\n\t\t\t// filter() to reduce a larger array to a smaller array of filtered results\n\t\t\tconst filtered_methods = actor.methods.filter(function(method){\n\t\t\t\t// check for case-insensitive strings matches on the method name or description\n\t\t\t\t// if either is a match, return true, which means this method passes the filter()\n\t\t\t\t// test and will be included in the pared down filtered_methods array\n\t\t\t\treturn (method.name.toUpperCase().includes(eventValue) || method.desc.toUpperCase().includes(eventValue))\n\t\t\t})\n\n\t\t\t// if any matches were found above, filtered_methods will contain those methods\n\t\t\t// for this actor, so push them to the results array now so that they'll persist\n\t\t\t// outside of this iteration of the forEach loop\n\t\t\tif (filtered_methods.length > 0){\n\t\t\t\tresults[0].push({\n\t\t\t\t\tname: actor.name,\n\t\t\t\t\tmethods: filtered_methods\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t\t// ---------------------------------------------------------------------\n\t\t// loop through all namespaces stored in state, searching for string matches in various ways\n\t\tthis.state.namespaces.forEach(function(n){\n\n\t\t\t// if name of this entire actor class includes the user-input string\n\t\t\tif (n.name.toUpperCase().includes(eventValue)){\n\t\t\t\t// push the entire namespace and all its methods to the array of filtered results\n\t\t\t\tresults[1].push(n)\n\t\t\t\t// and continue to the next namespace\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// otherwise, loop through the methods available to this namespace, using\n\t\t\t// filter() to reduce a larger array to a smaller array of filtered results\n\t\t\tconst filtered_methods = n.methods.filter(function(method){\n\t\t\t\t// check for case-insensitive strings matches on the method name or description\n\t\t\t\t// if either is a match, return true, which means this method passes the filter()\n\t\t\t\t// test and will be included in the pared down filtered_methods array\n\t\t\t\treturn (method.name.toUpperCase().includes(eventValue) || method.desc.toUpperCase().includes(eventValue))\n\t\t\t})\n\n\t\t\t// if any matches were found above, filtered_methods will contain those methods\n\t\t\t// for this namespace, so push them to the results array now so that they'll persist\n\t\t\t// outside of this iteration of the forEach loop\n\t\t\tif (filtered_methods.length > 0){\n\t\t\t\tresults[1].push({\n\t\t\t\t\tname: n.name,\n\t\t\t\t\tmethods: filtered_methods\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t\t// ---------------------------------------------------------------------\n\t\t// loop through all enums stored in state, searching for string matches in various ways\n\t\tthis.state.enums.forEach(function(e){\n\t\t\tif (e.name.toUpperCase().includes(eventValue)){\n\t\t\t\tresults[2].push(e)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst filtered_enums = e.values.filter(function(val){\n\t\t\t\treturn (val.name.toUpperCase().includes(eventValue))\n\t\t\t})\n\n\t\t\tif (filtered_enums.length > 0){\n\t\t\t\tresults[2].push({\n\t\t\t\t\tname: e.name,\n\t\t\t\t\tvalues: filtered_enums\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t\t// ---------------------------------------------------------------------\n\t\t// loop through all enums stored in state, searching for string matches\n\t\tthis.state.singletons.forEach(function(s){\n\t\t\tif (s.name.toUpperCase().includes(eventValue)){\n\t\t\t\tresults[3].push(s)\n\t\t\t\treturn\n\t\t\t}\n\t\t})\n\n\t\t// ---------------------------------------------------------------------\n\t\t// loop through all global functions stored in state, searching for string matches\n\t\tthis.state.global_functions.forEach(function(f){\n\t\t\tif (f.name.toUpperCase().includes(eventValue) || f.desc.toUpperCase().includes(eventValue)){\n\t\t\t\tresults[4].push(f)\n\t\t\t\treturn\n\t\t\t}\n\t\t})\n\n\t\t// ---------------------------------------------------------------------\n\t\t// loop through all constants stored in state, searching for string matches\n\t\tthis.state.constants.forEach(function(c){\n\t\t\tif (c.name.toUpperCase().includes(eventValue)){\n\t\t\t\tresults[5].push(c)\n\t\t\t\treturn\n\t\t\t}\n\t\t})\n\n\t\treturn results\n\t}\n\n\t// -----------------------------------------------------------------------------------------\n\t// -----------------------------------------------------------------------------------------\n\n\n\t// toggle the show/hide of major categories of the API\n\thandleCategoryClick(category, e){\n\t\t// get all categories from state\n\t\tvar categories = {...this.state.visible_categories}\n\t\t// flip the visibility boolean for the desired category\n\t\tcategories[category] = !(this.state.visible_categories[category])\n\t\t// it seems it's not possible to directly set the state of a nested property,\n\t\t// so update state for the entire visible_categories object\n\t\tthis.setState({visible_categories: categories})\n\t\t// toggle the \"collapsed\" class so CSS can append the appropriate UI triangle\n\t\t$(\"#\" + category).toggleClass(\"collapsed\")\n\t}\n\n\n\trender() {\n\t\tif (this.state && this.state.isLoaded && this.props){\n\n\t\t\tlet elements = null\n\n\t\t\tif (this.props.api_filter === \"\" && this.state.mobile_api_filter === \"\"){\n\t\t\t\telements = this.all_elements\n\n\t\t\t} else {\n\t\t\t\tconst eventValue = this.props.api_filter !== \"\" ? this.props.api_filter : this.state.mobile_api_filter\n\t\t\t\telements = this.get_elements_to_render(this.filterResults(eventValue))\n\t\t\t}\n\n\t\t\t// by default there are 24 constants, but text filtering may result in fewer or none\n\t\t\t// so, store the curent number of constants in num_constants now and use it below\n\t\t\t// to determine whether to show/hide the header for the constants table\n\t\t\t// (having a table header with 0 rows of data is confusing)\n\t\t\tconst num_constants = elements.Constants.props.children[1].props.children.length\n\n\t\t\treturn (\n\t\t\t\t<div className=\"LuaAPI\">\n\n\t\t\t\t\t<p className=\"alert alert-info\">\n\t\t\t\t\t\tThis version of SM5&apos;s Lua API doc is in beta, so some information may be missing!\n\t\t\t\t\t\t<br /><br />\n\t\t\t\t\t\tThe original, full API doc can <a href=\"/Lua-For-SM5/Luadoc/Lua.xml\">still be accessed here</a>.\n\t\t\t\t\t</p>\n\n\n\t\t\t\t\t\t<div className=\"d-md-none\">\n\t\t\t\t\t\t\t<LuaAPIFilter onFilterChange={this.handleFilterChangeMobile} />\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t<h1>SM5 Lua API</h1>\n\n\t\t\t\t\t<h2 id=\"Actors\" className=\"API-Category\" onClick={(e) => this.handleCategoryClick(\"Actors\", e)}>Actor Classes</h2>\n\t\t\t\t\t<div>{this.state.visible_categories[\"Actors\"] && elements[\"Actors\"]}</div>\n\n\t\t\t\t\t<h2 id=\"Namespaces\" className=\"API-Category\" onClick={(e) => this.handleCategoryClick(\"Namespaces\", e)}>Namespaces</h2>\n\t\t\t\t\t<div>{this.state.visible_categories[\"Namespaces\"] && elements[\"Namespaces\"]}</div>\n\n\t\t\t\t\t<h2 id=\"Enums\" className=\"API-Category\" onClick={(e) => this.handleCategoryClick(\"Enums\", e)}>Enums</h2>\n\t\t\t\t\t<div>{this.state.visible_categories[\"Enums\"] && elements[\"Enums\"]}</div>\n\n\t\t\t\t\t<h2 id=\"Singletons\" className=\"API-Category\" onClick={(e) => this.handleCategoryClick(\"Singletons\", e)}>Singletons</h2>\n\t\t\t\t\t<div>{this.state.visible_categories[\"Singletons\"] && elements[\"Singletons\"]}</div>\n\n\t\t\t\t\t<h2 id=\"GlobalFunctions\" className=\"API-Category\" onClick={(e) => this.handleCategoryClick(\"GlobalFunctions\", e)}>Global Functions</h2>\n\t\t\t\t\t<div>{this.state.visible_categories[\"GlobalFunctions\"] && elements[\"GlobalFunctions\"]}</div>\n\n\t\t\t\t\t<h2 id=\"Constants\" className=\"API-Category\" onClick={(e) => this.handleCategoryClick(\"Constants\", e)}>Constants</h2>\n\t\t\t\t\t<div>{this.state.visible_categories[\"Constants\"] && num_constants > 0 && elements[\"Constants\"]}</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t}\n}\n\nexport default LuaAPI;","import React, { Component } from \"react\";\n\nclass Resources extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Other Resources</h1>\n\n\t\t\t\t<h2>Learning Lua</h2>\n\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.tutorialspoint.com/lua/\">TutorialsPoint Lua Guide</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.lua.org/pil/contents.html\">Programming in Lua</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<h2>Theming for StepMania 5</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/stepmania/stepmania/wiki/Theming\">StepMania&apos;s GitHub Wiki Theming Page</a></li>\n\t\t\t\t</ul>\n\n\t\t\t\t<h2>SM/SSC File Documentation</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/stepmania/stepmania/wiki/sm\">.sm File Format</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/stepmania/stepmania/wiki/Note-Types\">.ssc NoteTypes </a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Resources;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\n\nclass Foreword extends Component {\n\trender() {\n\t\treturn (\n\t\t<div>\n\t\t\t<h1>What are Actors?</h1>\n\n\t\t\t<h2>Tables Within Tables Within...</h2>\n\n\t\t\t<p>An Actor is the most basic unit of StepMania scripting.  Virtually everything else that you work with in SM5 Lua, be it a Sprite, a BitmapText, or an ActorMultiVertex, is built on top of the foundation that Actor provides.</p>\n\n\t\t\t<p>From a scripter&#8217;s perspective, an Actor is a Lua table with a few special properties that the StepMania engine will look for.  Other StepMania elements that derive from Actor are also really just Lua tables as well.</p>\n\n\t\t\t<p>So if you are familiar with <em>ActorFrames</em>, the StepMania element that serves as a container for manipulating multiple Actors simultaneously within itself, you can start to appreciate how an ActorFrame is a table that contains Actors which are tables.</p>\n\n\t\t\t<p>It&#8217;s tables all the way down.</p>\n\n\t\t\t<h2>Types of Actors</h2>\n\n\t\t\t<p>There are 43 specialized types of Actors available to StepMania&#8217;s Lua scripting interface.  Each type has unique methods available to it and a unique use-case.  For example,</p>\n\n\t\t\t<ul>\n\t\t\t\t<li><code>Quad</code> actors are quadrilaterals that you can programmatically manipulate</li>\n\t\t\t\t<li><code>BitmapText</code> actors are used to draw text to the screen</li>\n\t\t\t\t<li><code>ActorMultiVertex</code> actors are arbitrary polygons that you can programmatically manipulate</li>\n\t\t\t\t<li><code>Sprite</code> actors are used to load visual assets like png images or avi movies</li>\n\t\t\t\t<li><code>ActorFrame</code> actors serve as containers for other actors, and are useful when you want to manipulate a group of actors simultaneously, rather than individually</li>\n\t\t\t\t<li>etc.</li>\n\t\t\t</ul>\n\n\t\t\t<p>For a complete list of SM5 Actor types, see <a href=\"https://github.com/stepmania/stepmania/blob/master/Docs/Themerdocs/actordef.txt\">./Docs/ThemerDocs/actordef.txt</a></p>\n\n\t\t\t<h2>An Example SM5 Lua Script</h2>\n\n\t\t\t<p>The most commonly used Actors will each be discussed in detail in the chapters under <strong>Actors</strong> in the navigation menu.  For now, we&#8217;ll start by looking at a simple Lua script for StepMania 5.</p>\n\n\n\t\t\t<span className=\"CodeExample-Title\">A Simple SM5 Lua Script:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- start by defining an ActorFrame\n-- call it ExampleAF (example ActorFrame)\nlocal ExampleAF = Def.ActorFrame{\n\tOnCommand=function(self)\n\t\tself:Center():sleep(9999)\n\tend,\n\n\t-- since Actors are just Lua tables\n\t-- we can nest them directly inside\n\t-- the parent ActorFrame table like this\n\tDef.Quad{\n\t\tInitCommand=function(self)\n\t\t\tself:zoomto(50,137)\n\t\tend\n\t},\n\n\t-- note that since these are elements in\n\t-- a Lua table, everything is comma-delimited\n\tDef.BitmapText{\n\t\tFont=\"Common Normal\",\n\t\tText=\"Eat Poptarts.\"\n\t}\n}\n\n\n-- since ExampleAF is an indexed Lua table, we can also\n-- add elements to its next index externally like this:\nExampleAF[#ExampleAF + 1] = Def.Sprite{\n\tTexture=\"chrismarks.png\"\n}\n\n-- Every Lua Theme/BGCHANGE/FGCHANGE file in SM5 must return some\n-- sort of Actor. Typically, we end up returning an ActorFrame.\nreturn ExampleAF\n\t\t\t`}</Highlight>\n\n\n\t\t\t<h2>Only one Actor can be returned per file.</h2>\n\n\t\t\t<p>The StepMania engine expects one Actor to be returned per Lua file, yet the example above features four Actors:</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>1 ActorFrame</li>\n\t\t\t\t<li>1 Quad</li>\n\t\t\t\t<li>1 BitmapText</li>\n\t\t\t\t<li>1 Sprite</li>\n\t\t\t</ul>\n\n\t\t\t<p>How do we make this work?</p>\n\n\t\t\t<p>The solution reveals a prominent design paradigm in StepMania scripting – put all other Actors inside the ActorFrame and return the ActorFrame.  An ActorFrame is just one type of Actor, and any valid Actor may be returned.</p>\n\n\t\t\t<p>If your Lua file is <em>very</em> simple, you may only have one Actor, maybe a Sprite or a Quad.  In such situations, it is not necessary to wrap the single Actor in an ActorFrame; <em>any valid StepMania Actor may be returned.</em></p>\n\n\t\t\t<p>Still, most files end up being complex enough to warrant using an ActorFrame.</p>\n\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Foreword","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\nclass Lua extends Component {\n\trender() {\n\t\treturn (\n\t\t<div>\n\t\t\t<h1>Differences between Lua 5.0 and Lua 5.1</h1>\n\n\t\t\t<p>SM3.95 used <a href=\"http://www.lua.org/versions.html#5.0\">Lua 5.0</a>, while SM5 currently uses <a href=\"http://www.lua.org/versions.html#5.1\">Lua 5.1</a>.\n\t\t\tThe primary differences that will likely impact your scripting experience are:</p>\n\n\t\t\t<h3>Modulus Operator as %</h3>\n\n\t\t\t<p>Lua 5.0 required <code>math.mod()</code> to perform modulo operations, while Lua 5.1 introduced a proper modulus operator.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Modulus operator example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nlocal teamdragonforce = 3 % 2\nprint(teamdragonforce)\n-- output: 1\n`}\n\t\t\t</Highlight>\n\n\t\t\t<h3>Table Size Operator as &#35;</h3>\n\n\t\t\t<p>Lua 5.0 required the  <code>table.getn()</code> function to determine the size of an indexed table, while Lua 5.1 introduced a simple operator for this common task.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Indexed table size operator:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- this table is indexed, so the # operator works\nlocal StomperZ = { \"fast\", \"brutal\", \"bearlike\" }\nprint(#StomperZ)\n-- output: 3\n\n-- this table is key/value, so the # operator does NOT work\nlocal NotIndexed = {\n    blah = \"fast\",\n    nah = \"brutal\",\n    whatever = \"bearlike\"\n}\nprint(#NotIndexed)\n-- output: 0\n`}\n\t\t\t</Highlight>\n\n\t\t\t<h3>Simple For Loop Deprecation</h3>\n\n\t\t\t<p>For the official explanation, read <a href=\"http://www.luafaq.org/#T1.13\">http://www.luafaq.org/#T1.13</a></p>\n\n\t\t\t<hr />\n\n\t\t\t<h2>&lt;XML&gt; in SM3.95 converted to &#123; Lua &#125; in SM5</h2>\n\n\t\t\t<p>A typical SM3.95 XML file would feature an ActorFrame element which would contain various children Actors.  This model is conceptually the same in SM5, but uses <code>.lua</code> files instead of <code>.xml</code> files.  So, where Actors were represented by <em>XML elements</em> in SM3.95, they are <strong>Lua tables</strong> in SM5.</p>\n\n\t\t\t<h3>An Example SM3.95 XML File</h3>\n\n\t\t\t<p>SM3.95 had 17 unique Actor classes, each of which could be invoked with a corresponding XML element.</p>\n\n\t\t\t<p>A simple XML file containing some Actors commonly used in SM3.95 might look like:</p>\n\n\t\t\t<span className=\"CodeExample-Title\">A typical SM3.95 XML script:</span>\n\t\t\t<Highlight className=\"xml\">\n{`\n<!-- ActorFrame is an Actor -->\n<ActorFrame OnCommand=\"x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y;sleep,9999\">\n    <children>\n\n\t    <!-- Quad is an Actor -->\n\t    <Quad\n\t         InitCommand=\"zoomto,50,137\"\n\t    />\n\n\t    <!-- BitmapText is also an Actor -->\n\t    <BitmapText\n\t        File=\"_eurostile normal\"\n\t        Text=\"Eat Poptarts.\"\n\t    />\n\n\t    <!-- Sprite is, that's right, an Actor -->\n\t    <Sprite\n\t        Texture=\"chrismarks.png\"\n\t        Frame0000=\"0\"\n\t    />\n\n\t</children>\n</ActorFrame>\n`}\n\t\t\t</Highlight>\n\t\t\t<h3>The Example File Converted to SM5 Lua</h3>\n\n\t\t\t<p>In SM5, these same Actors exist (and quite a few more; 43 in total!), but the means of invoking them has changed since pure Lua files have replaced XML.  For a complete list of SM5 Actors, see <a href=\"https://github.com/stepmania/stepmania/blob/master/Docs/Themerdocs/actordef.txt\">./Docs/ThemerDocs/actordef.txt</a></p>\n\n\t\t\t<p>The most commonly used Actors will each be discussed in detail in the following sections.  For now, we&apos;ll start by looking at the <em>SimpleExample.xml</em> if we were to convert it to SM5 Lua:</p>\n\n\t\t\t<span className=\"CodeExample-Title\">The same script written in SM5 Lua:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n--start by defining an ActorFrame\n--we'll call it ExampleAF (example ActorFrame)\nlocal ExampleAF = Def.ActorFrame{\n    OnCommand=function(self)\n        self:Center():sleep(9999)\n    end,\n\n\t-- since Actors are just Lua tables\n\t-- we can nest them directly inside\n\t-- the parent ActorFrame table like this\n\tDef.Quad{\n\t    InitCommand=function(self)\n\t        self:zoomto(50,137)\n\t    end\n\t},\n\n\t-- note that since these are elements in\n\t-- a Lua table, everything is comma-delimited\n\tDef.BitmapText{\n\t    Font=\"Common Normal\",\n\t    Text=\"Eat Poptarts.\"\n\t}\n}\n\n--since ExampleAF is an indexed Lua table, we can also\n--add elements to its next index externally like this:\nExampleAF[#ExampleAF + 1] = Def.Sprite{\n    Texture=\"chrismarks.png\"\n}\n\n--Every Lua Theme/BGCHANGE/FGCHANGE file in SM5 must return some\n--sort of Actor. Typically, we end up returning an ActorFrame.\nreturn ExampleAF\n`}\n\t\t\t</Highlight>\n\n\t\t\t<h3>Dynamically Adding Actors in SM5</h3>\n\t\t\t<p>We can take advantage of the idea that SM5 uses the Lua rather than XML to dynamically add actors to an ActorFrame.  Depending on the scenario and the number of Actors being added to an ActorFrame, this can <em>greatly</em> reduce the lines of code you&apos;ll need to write.</p>\n\n\t\t\t<p>Imagine that you have a single png asset, <em>dog.png</em> and you want five instances of it to appear on the screen. You&apos;d like the end result to look like this:</p>\n\n\t\t\t<p><img alt=\"\" className=\"img-fluid\" src=\"/Lua-For-SM5/img/dogs.png\" /></p>\n\n\t  \t\t<p>The basic idea is the same regardless of whether you are using SM3.95 or SM5: you&apos;ll need to define five <Link to=\"/Def.Sprite\">Sprite Actors</Link> within your main ActorFrame.  To achieve this in SM3.95&apos;s XML, you could do something like this:</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Five Dogs in XML:</span>\n\t\t\t<Highlight className=\"xml\">\n{`<ActorFrame OnCommand=\"sleep,9999\">\n    <children>\n\t    <Sprite\n\t\t\tName=\"sprite 1\"\n\t\t\tTexture=\"./dog.png\"\n\t\t\tInitCommand=\"x,50;y,50\"\n\t    />\n\t    <Sprite\n\t\t\tName=\"sprite 2\"\n\t\t\tTexture=\"./dog.png\"\n\t\t\tInitCommand=\"x,150;y,150\"\n\t    />\n\t    <Sprite\n\t\t\tName=\"sprite 3\"\n\t\t\tTexture=\"./dog.png\"\n\t\t\tInitCommand=\"x,250;y,250\"\n\t    />\n\t    <Sprite\n\t\t\tName=\"sprite 4\"\n\t\t\tTexture=\"./dog.png\"\n\t\t\tInitCommand=\"x,350;y,350\"\n\t    />\n\t    <Sprite\n\t\t\tName=\"sprite 5\"\n\t\t\tTexture=\"./dog.png\"\n\t\t\tInitCommand=\"x,450;y,450\"\n\t    />\n\t</children>\n</ActorFrame>\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>That&apos;s about 30 lines of code already to basically do nearly the same thing five times.  If you&apos;re thinking that a <strong>loop</strong> might be handy here, you&apos;re on <em>exactly</em> the right track!  Let&apos;s rewrite that XML to be Lua for SM5.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Five Dogs in Lua:</span>\n\t\t\t<Highlight className=\"lua\">\n{`local af = Def.ActorFrame{\n\tOnCommand=function(self) self:sleep(999) end\n}\n\n-- loop from 0 to 4 and add a Sprite Actor to the af ActorFrame each time\nfor i=0,4 do\n\taf[#af+1] = LoadActor(\"./dog.png\")..{\n\t\tName=\"sprite \" .. i+1,\n\t\tInitCommand=function(self)\n\t\t\tself:xy(i*100+50, i*100+50)\n\t\tend\n\t}\nend\n\nreturn af\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>We were able to accomplish the same effect using a <strong>numerical for loop</strong> in SM5&apos;s Lua in only 15 lines!</p>\n\n\t\t\t<p>This is a modest improvement already, but imagine if we wanted to add 100 or even 1000 instances of <em>dog.png</em> to the screen.  With XML, it is necessary to explicitly define each Actor you want in your main ActorFrame, while with Lua, it is only necessary to increase the loop&apos;s stop value from <code>4</code> to a different number.</p>\n\n\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Lua","import React, { Component } from \"react\";\n\nclass SupportedFileExtensions extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Supported File Extensions</h1>\n\n\t\t\t\t<p>In StepMania 5, the supported file extensions are listed in <a href=\"https://github.com/stepmania/stepmania/blob/5_1-new/src/ActorUtil.cpp#L521-L572\">/src/ActorUtil.cpp</a>:</p>\n\n\t\t\t\t<ul>\n\t\t\t\t\t<li><strong>Images:</strong> bmp, gif, jpeg, jpg, png</li>\n\t\t\t\t\t<li><strong>Audio:</strong> mp3, oga, ogg, wav</li>\n\t\t\t\t\t<li><strong>Video:</strong> avi, f4v, flv, mkv, mp4, mpeg, mpg, mov, ogv, webm, wmv</li>\n\t\t\t\t\t<li><strong>3D Models:</strong> txt</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<hr />\n\n\t\t\t\t<h3>Extra Notes on Filetypes:</h3>\n\n\t\t\t\t<h4>Images:</h4>\n\n\t\t\t\t<p><em>.png</em> files with even dimensions are strongly preferred.</p>\n\n\t\t\t\t<h4>Audio:</h4>\n\n\t\t\t\t<p><em>.ogg</em> files are strongly preferred; variable-bitrate mp3 files <a href=\"https://github.com/stepmania/stepmania/issues/369\">are buggy</a>.</p>\n\n\t\t\t\t<h4>Video:</h4>\n\n\t\t\t\t<p>SM5 supports a broad array of codecs and containers via <a href=\"https://www.ffmpeg.org/\">ffmpeg</a>.</p>\n\n\t\t\t\t<p>Please note that you cannot play audio from video files. One workaround is to extract the audio from the video, and play it at the same time as the video.</p>\n\n\t\t\t\t<p>You are generally safe to use HD video without performance issues if the computer is from the last six or seven years. The <em>.avi</em> container in conjunction with the h264 codec works great.  As of this writing, the <strong>h265 codec is not supported</strong> by SM5&apos;s version of ffmpeg.</p>\n\n\t\t\t\t<p><a href=\"https://handbrake.fr/\">Handbrake</a> is a useful, free application you can use to resize your videos and convert them to one of the aforementioned formats with the h264 codec.</p>\n\n\t\t\t\t<h4>3D Models:</h4>\n\n\t\t\t\t<p>3D Models still rely on MilkShape 3D ASCII text as they have since StepMania 3.9.  Documentation is scarce at best.  Sorry.</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SupportedFileExtensions;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\nclass ModChartSetup extends Component {\n\trender() {\n\t\treturn (\n\t\t<div>\n\t\t\t<h1>Setting Up a \"Mod\" Chart</h1>\n\n\t\t\t<p>StepMania simfiles can be scripted to enhance gameplay using Lua and the SM5 API.  This chapter will briefly demonstrate how to prepare a simfile for such scripting.</p>\n\n\t\t\t<p className=\"alert alert-warning\">This chapter is a work-in-progress!</p>\n\n\t\t\t<p>The FGCHANGES field in your .sm file accepts several arguments delimited by equals signs.  The first two are the most important:</p>\n\t\t\t<ul>\n\t\t\t\t<li>the beat in Gameplay at which you want the Lua file to be activated</li>\n\t\t\t\t<li>a path to the Lua file where you will be writing your code</li>\n\t\t\t</ul>\n\n\t\t\t<p>So, for exmaple, if you named your file <em>default.lua</em> and wanted it to trigger at beat 4, you would need to change your .sm (or .ssc) file to include:</p>\n\n\t\t\t<Highlight>#FGCHANGES: 4.000=./default.lua=1.000=0=0=1=====;</Highlight>\n\n\t\t\t<p>The other arguments (the <code>1.000</code> and subsequent <code>0</code>s and <code>1</code>s) are <a href=\"https://github.com/stepmania/stepmania/wiki/sm#bgchanges\">various flags that are basically vestiges</a> from SM3.9 that are necessary to include but will have no impact on your Lua.  For FGCHANGES, you can just copy/paste them into your .sm file for each FGCHANGE.</p>\n\n\t\t\t<p>Any Lua-based actors loaded as FGCHANGES will be cleared from the screen as soon as they are \"done.\" This means that if the actor isn&apos;t actively <Link to=\"/Simple-Tweens\">tweening</Link> in some way, it will be cleared from memory.</p>\n\n\t\t\t<p>  A common strategy is to ensure that this doesn&apos;t occur prematurely is to add a dummy keep-alive Actor that does nothing but sleep for as long as you want the overall Lua file to persist for. That might look like:</p>\n\n\t\t\t<Highlight className=\"lua\">\n{`\n-- a Lua file can only return one Actor\n-- so the common strategy is to return one ActorFrame that contains many sub-Actors\nreturn Def.ActorFrame{\n\t-- keep-alive Actor\n\t-- this will allow the file to persist for 999 seconds\n\t-- (or, until the end of the stepchart)\n\tDef.Actor{ OnCommand=function(self) self:sleep(999) end },\n\n\t-- the Sprite Actor\n\tDef.Sprite{\n\t\tTexture=\"awesome.png\",\n\t\tOnCommand=function(self)\n\t\t\tself:Center():FullScreen():sleep(3):diffusealpha(0)\n\t\tend\n\t}\n}\n`}\n\t\t\t</Highlight>\n\t\t\t<p>In the exmaple above, the the Sprite has a <code>sleep(3)</code> tween, so it would appear on the screen for 3 seconds at beat 4 (specified by the .sm file) and then have an alpha of <code>0</code> applied, causing it to be effectively invisible.</p>\n\n\t\t\t<p>If you are testing this in SM5's editor, you'll need to ensure that you have <strong>Show Background Changes</strong> enabled, otherwise neither BGChanges nor FGChanges will appear.</p>\n\n\t\t\t<p>SM5&apos;s Lua error reporting interface is invaluable when scripting things like this. You can toggle it on/off by holding <kbd>F3</kbd> and tapping <kbd>F6</kbd> then tapping <kbd>8</kbd></p>\n\n\t\t\t<p>Finally, if there are no Lua errors, and you still can&apos;t get anything to appear, you may need to reload your simfiles.</p>\n\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ModChartSetup;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\nclass Quad extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t<h1>Quad</h1>\n\n\t\t\t<p><em>Quad</em> actors are programmatically drawn <em>quad</em>rilaterals that can have properties like size, position, and color.  If you don&apos;t specify, Quad actors are white and have a height and width of 0 by default.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">A very simple Quad example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- a white quad with height and width of 100px\nDef.Quad{\n    Name=\"WhiteQuad\",\n    InitCommand=function(self)\n        self:zoomto(100,100)\n    end\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>A common question that people new to StepMania scripting have is:</p>\n\n\t\t\t<p><strong>Where are those commands like</strong> <code>zoomto()</code> <strong>coming from?</strong></p>\n\n\t\t\t<p>Keeping in mind that a <em>Quad</em> is a specific type of StepMania <em>Actor</em>, we can look to StepMania&apos;s Lua API for a complete list of methods available to all <Link to=\"/LuaAPI#Actors-Actor\">Actor objects</Link>.</p>\n\n\t\t\t<h2>A More Advanced Example</h2>\n\n\t\t\t<p>Since Quads are fairly simple, let&apos;s use another example to animate some Quads.  This example makes use of a new-to-SM5 feature, command-chaining, which is discussed more in-depth in the Command Chaining section.</p>\n\n\t\t<span className=\"CodeExample-Title\">Three Quads with animation:</span>\n\t\t<Highlight className=\"lua\">\n{`\n-- let's assume this file is being called via FGCHANGES from a simfile.\n-- Like in SM3.95, Actors from FGCHANGES that are not actively tweening\n-- are cleared from memory as the engine assumes they are \"done.\"\n-- To counteract this, we'll apply a sleep() tween to the parent ActorFrame\n\nreturn Def.ActorFrame{\n\t-- the OnCommand here applies to the primary ActorFrame\n\tOnCommand=function(self)\n\t\tself:sleep(9999)\n\tend,\n\n\t-- a red quad that accelerates from offscreen-left to offscreen-right\n\t-- this makes use of the _screen and Color aliases\n\tDef.Quad{\n\t\tName=\"RedQuad\",\n\t\tInitCommand=function(self)\n\t\t\tself:zoomto(100,100):diffuse(Color.Red)\n\t\tend,\n\t\tOnCommand=function(self)\n\t\t\tself:xy( -100, _screen.cy )\n\t\t\t\t:accelerate( 2 ):x( _screen.w + 100 )\n\t\tend\n\t},\n\n\t-- a blue quad that decelerates from offscreen-top to offscreen-bottom\n\t-- this makes use of the xy() command, which is new to SM5\n\t-- as well as command-chaining (read more on the next page!)\n\tDef.Quad{\n\t\tName=\"BlueQuad\",\n\t\tInitCommand=function(self)\n\t\t\tself:zoomto( 100, 100 ):diffuse( Color.Blue )\n\t\tend,\n\t\tOnCommand=function(self)\n\t\t\tself:xy( _screen.cx, -100)\n\t\t\t\t:decelerate( 2 ):y( _screen.h + 100 )\n\t\t\t\t:queuecommand( \"TriggerSpin\" )\n\t\tend,\n\t\tTriggerSpinCommand=function(self)\n\t\t\tlocal greenquad_af = self:GetParent():GetChild( \"GreenQuadAF\" )\n\t\t\tgreenquad_af:GetChild( \"GreenQuad\" ):queuecommand( \"Grow\" )\n\t\tend\n\t},\n\n\t-- a green quad that waits for the two quads above to finish tweening,\n\t-- then grows out of the center of the screen while spinning\n\t--\n\t-- NOTE: We can't apply tween-based commands and actor effects like spin()\n\t-- simultaneously.\n\t-- zoomto() will override spin() for the duration of its linear tween.\n\t-- The way to achive the effect of spinning toward the viewer is to\n\t-- wrap the Quad in an ActorFrame, spin the ActorFrame, and zoom the Quad.\n\tDef.ActorFrame{\n\t\tName=\"GreenQuadAF\",\n\t\tInitCommand=function(self)\n\t\t\tself:Center()\n\t\t\t\t:spin():effectmagnitude(0,0,180)\n\t\tend,\n\n\t\tDef.Quad{\n\t\t\tName=\"GreenQuad\",\n\t\t\tInitCommand=function(self)\n\t\t\t\tself:zoomto(0,0):diffuse(Color.Green)\n\t\t\tend,\n\t\t\tGrowCommand=function(self)\n\t\t\t\tself:linear(5):zoomto(_screen.w, _screen.h)\n\t\t\tend,\n\t\t}\n\t}\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<h2>The <em>_fallback</em> theme has some helpful aliases.</h2>\n\n<p>This example also uses a few helper tables defined in SM5&apos;s <em>_fallback</em> theme such as the <code>Color</code> table from <a href=\"https://github.com/stepmania/stepmania/blob/master/Themes/_fallback/Scripts/02%20Colors.lua\">02 Colors.lua</a>  and the <code>_screen</code> table from <a href=\"https://github.com/stepmania/stepmania/blob/master/Themes/_fallback/Scripts/01%20alias.lua\">01 alias.lua</a>.</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Quad;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\nclass BitmapText extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t<h1>BitmapText</h1>\n\n\t\t\t<p><em>BitmapText</em> Actors are used to display text on the screen.</p>\n\n\t\t\t<p>As Lua tables, they have two unique elements, <code>Font</code> and <code>Text</code>.  <code>Font</code> should be set to any font in the current or <em>_fallback</em> theme&apos;s <em>./Font</em> directory. <code>Text</code> should be set to a string value, but it can be left empty or not declared at all if you intend to programmatically set the text later with the <code>settext()</code> method.</p>\n\n\t\t\t<p>Here is a very simple example that would display the text \"Hello SM5!\"</p>\n\t\t\t<span className=\"CodeExample-Title\">Simple BitmapText example</span>\n\t\t\t<Highlight className=\"lua\">\n{`Def.BitmapText{\n\tFont=\"Common normal\",\n\tText=\"Hello SM5!\",\n\tInitCommand=function(self) self:Center() end\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>StepMania 5&apos;s <em>_fallback</em> theme defines a helper function, <code>LoadFont()</code>, that can be used to simplify the above code somewhat.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">BitmapText example using LoadFont()</span>\n\t\t\t<Highlight className=\"lua\">\n{`LoadFont(\"Common normal\")..{\n\tText=\"Hello SM5!\",\n\tInitCommand=function(self) self:Center() end\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<hr />\n\n\t\t\t<h3>Loading Custom Fonts within a Scripted Simfile</h3>\n\n\t\t\t<p>Note that the <code>LoadFont()</code> helper function can only be used to load BitmapText fonts contained within the current theme&apos;s <code>./Fonts/</code> directory.\n\t\t\t If you are working within the context of a <Link to=\"/Lua-For-SM5/Mod-Chart-Setup\">scripted simfile</Link> and are trying to load a custom BitmapText font that is located within the simfile directory itself, you can do so like this:</p>\n\n\t\t\t<span className=\"CodeExample-Title\">loading a custom BitmapText from within a simfile</span>\n\t\t\t<Highlight className=\"lua\">\n{`Def.BitmapText{\n    File=GAMESTATE:GetCurrentSong():GetSongDir()..\"Fonts/helvetica neue/_helvetica neue 20px.ini\",\n    Text=\"Hello, World!\",\n    InitCommand=function(self) self:diffuse(1,1,1,1):Center():shadowlength(0.75) end\n}\n`}\n</Highlight>\n\n\t\t\t<p>The program used to turn ttf fonts into spritesheets that StepMania can use comes bundled with release versions of SM5 for Windows in the <code>./Program/</code> folder, and is titled <strong>Texture Font Generator.exe</strong>.\n\t\t\t\tWhile is it Windows-only, it works great on macOS using <a href=\"https://www.davidbaumgold.com/tutorials/wine-mac/\">Wine</a>.</p>\n\n\t\t\t<p>When loading custom fonts within scripted simfiles like this, it may be necessary to modify the ini file that <em>Texture Font Generator.exe</em> outputs for character widths to be respected.</p>\n\n\n\n\t\t\t<span className=\"CodeExample-Title\">the ini file Texture Font Generator will give you</span>\n\t\t\t<Highlight className=\"ini\">\n{`[common]\nBaseline=20\n# etc.\n\n[main]\nLine  0= !\"$%&'()*+,-.\nLine  1=/0123456789:;<\nLine  2=>?@ABCDEFGHIJKL\nLine  3=MNOPQRSTUVWXYZ\nLine  4=\\^_abcdefghij\n# etc.\n\n0=6\n1=5\n2=7\n3=11\n4=11\n5=18\n# etc.\n`}\n</Highlight>\n\n\n\t\t\t<p>If you find that character widths seem incorrect, you may be able to fix this issue by removing the <code>[main]</code> section from the font's ini file so that everything is defined under <code>[common]</code> like this:</p>\n\n\t\t\t<span className=\"CodeExample-Title\">what you may need to change the ini file to</span>\n\t\t\t<Highlight className=\"ini\">\n{`[common]\nBaseline=20\n# etc.\n\nLine  0= !\"$%&'()*+,-.\nLine  1=/0123456789:;<\nLine  2=>?@ABCDEFGHIJKL\nLine  3=MNOPQRSTUVWXYZ\nLine  4=\\^_abcdefghij\n# etc.\n\n0=6\n1=5\n2=7\n3=11\n4=11\n5=18\n# etc.\n`}\n</Highlight>\n\n\n\n\n\t\t\t<hr />\n\n\t\t\t<h3>Dynamically Changing Text Using <code>settext()</code></h3>\n\n\t\t\t<p>Here is a more complex example that display a randomly selected string out of a Lua table of possibilities.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Display one randomly selected string from a table:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- This \"phrases\" table contains a list of strings.  We're going to randomly\n-- select one and display it in the BitmapText actor below. In SM5, it is\n-- possible (and encouraged!) to create local variables that have scope over\n-- the current file, like this.\nlocal phrases = {\n\t\"There's the boys.\",\n\t\"Just move faster.\",\n\t\"Worst in the world.\",\n\t\"#bottomstruggles\"\n}\n\nreturn Def.ActorFrame{\n\tInitCommand=function(self)\n\t\t-- Remember that queuecommand() waits until the next tick of the engine's\n\t\t-- game loop to execute whatever command we are queueing.\n\t\tself:queuecommand(\"ChooseAPhrase\")\n\tend,\n\n\tChooseAPhraseCommand=function(self)\n\t\t-- When passed an integer, math.random() returns a random\n\t\t-- integer that is no greater than the number you pass it,\n\t\t-- but at least 1.  So, in this case, since #phrases = 4\n\t\t-- i will be assigned to 1, 2, 3 or 4.\n\t\tlocal i = math.random( #phrases )\n\n\t\t-- In contrast, playcommand() will attempt to execute immediately.\n\t\t-- playcommand() also allows us to pass a table of arguments to\n\t\t-- the next command we want to run.  In this way, we can pass\n\t\t-- variables that are otherwise local to this function of this\n\t\t-- ActorFrame to the desired function of the desired BitmapText.\n\t\tself:GetChild(\"CatchPhrase\"):playcommand(\"Update\", {PhraseIndex=i})\n\tend,\n\n\tLoadFont(\"Common normal\")..{\n\t\tName=\"CatchPhrase\",\n\t\tInitCommand=cmd(diffuse, color(\"#FEDCBA\"); Center),\n\t\tUpdateCommand=function(self, params)\n\t\t\t-- The \"params\" argument comes in as a table with a single element,\n\t\t\t-- \"PhraseIndex\"; use that index to get one of the string phrases from\n\t\t\t-- the phrases variable and set this BitmapText to display that phrase.\n\t\t\tself:settext( phrases[ params.PhraseIndex ] )\n\t\tend\n\t}\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>The example above is admittedly rather artificial for the sake of demonstrating how to pass variables when issuing a <code>playcommand()</code> call.  The random index <code>i</code> could have just as easily been generated at the top of the file next to <code>local phrases</code> and not needed to be passed between the Actors&apos; functions.</p>\n\n\t\t\t<p>Still, it is good to know that this can be done.  Keeping variables local (to a file, to a function, etc.) is good practice to mitigate polluting the global Lua namespace with an abundance of single-use variables.  In this regard, it can be helpful to know as many ways to pass those local variables (between files, between functions, etc.) as possible.</p>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BitmapText;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\n\nclass Sprite extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t<h1>Sprite</h1>\n\n\t\t\t<p><em>Sprite</em> actors can be used to load, display, and manipulate image and video data in StepMania 5.  If you want to load a png graphic and move it around, or animate a character from a sprite sheet, or play a video file, then the <em>Sprite</em> actor is what you&apos;re looking for.</p>\n\n\t\t\t<p>See the page on <Link to=\"Supported-File-Extensions\">Supported File Extensions</Link> for a complete list of which filetypes are supported.</p>\n\n\t\t\t<p>As Lua tables, Sprite actors have one unique attribute that is worth knowing about, <code>Texture</code>.  Let&apos;s start with a very simple example of Sprite usage.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">A very simple Sprite example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nDef.Sprite{\n\tName=\"Girlfriend\",\n\tTexture=\"OverlayAttachedGirlfriend.png\",\n\tInitCommand=function(self)\n\t\tself:zoom(0.5):Center()\n\tend\n}\n`}\n\t\t\t</Highlight>\n\t\t\t<p>This example will load a file titled <em>OverlayAttachedGirlfriend.png</em> in the same directory as the current Lua file, <code>Center()</code> it within its parent ActorFrame, and apply a 50% zoom (make it half as large).</p>\n\n\t\t\t<p>A common question that people new to StepMania scripting have is:</p>\n\n\t\t\t<p><strong>Where are those commands like</strong> <code>zoom()</code> <strong>and</strong> <code>Center()</code> <strong>coming from?</strong></p>\n\n\t\t\t<p>Keeping in mind that a <em>Sprite</em> is a specific type of StepMania <em>Actor</em>, we can look to StepMania&apos;s Lua API for a complete list of methods available first to all <Link to=\"/LuaAPI#Actors-Actor\">Actor</Link> and then to <Link to=\"/LuaAPI#Actors-Sprite\">Sprite</Link> specifically.</p>\n\n\t\t\t<h2>Animated Spritesheets</h2>\n\n\t\t\t<p>What about sprite sheets for animated sprites?  StepMania&apos;s engine is hardcoded to look for patterns in the filename with Sprite actors.  If you are loading a sprite sheet that you intend to animate through, you&apos;ll want to ensure that the filename of the png you are loading ends with the pattern: <em>(columns)</em>x<em>(rows)</em></p>\n\n\t\t\t<p>For example. this sprite of Dr. WIly has 6 columns across 1 row.</p>\n\n\t\t\t<p><img alt=\"a 6 by 1 spritesheet of Dr. Wily\" src=\"/Lua-For-SM5/img/wily 6x1.png\" /></p>\n\n\t\t\t<p>For StepMania to recognize it properly as a sprite sheet, you would want to append <strong>6x1</strong> to the end of the filename, resulting in something like <strong>Wily 6x1.png</strong>.</p>\n\n\t\t\t<p>When working with sprite sheets, <em>Sprite</em> actors can have infinitely many more attributes for each <code>Frame</code> and each Frame&apos;s <code>Delay</code> values, but there are better ways of doing handling those.  Let&apos;s look at an old example from <a href=\"https://www.youtube.com/watch?v=KhwxI60WeWU\">The Ballad of Ian</a> from the D.O.W.N.S. 3 ITG tournament in January 2013.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Old example from The Ballad of Ian.  Don&apos;t do this:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nDef.Sprite {\n\tTexture=\"spin 13x1.png\",\n\tFrame0000=0,\n\tDelay0000=0.0516,\n\tFrame0001=1,\n\tDelay0001=0.0516,\n\tFrame0002=2,\n\tDelay0002=0.0516,\n\tFrame0003=3,\n\tDelay0003=0.0516,\n\tFrame0004=4,\n\tDelay0004=0.0516,\n\tFrame0005=5,\n\tDelay0005=0.0516,\n\tFrame0006=6,\n\tDelay0006=0.0516,\n\tFrame0007=7,\n\tDelay0007=0.0516,\n\tFrame0008=8,\n\tDelay0008=0.0516,\n\tFrame0009=9,\n\tDelay0009=0.0516,\n\tFrame0010=10,\n\tDelay0010=0.0516,\n\tFrame0011=11,\n\tDelay0011=0.0516,\n\tFrame0012=12,\n\tDelay0012=0.0516,\n\tInitCommand=cmd( diffusealpha,0.5; zoom,0.6; vertalign,bottom; Center),\n\tOnCommand=cmd( sleep,8; linear,1; diffusealpha,0 ),\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>While it is possible to specify frames and frame durations (delays) like this, you&apos;ll probably get the idea that this style is repetitive and prone to typos.  Here&apos;s a much more condensed version that accomplishes the same thing.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">A better way to manage sprite sheets:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nDef.Sprite {\n\tTexture=\"spin 13x1.png\",\n\tInitCommand=function(self)\n\t\tself:diffusealpha(0.5):zoom(0.6):vertalign(bottom):Center()\n\t\tself:SetAllStateDelays(0.0516)\n\tend,\n\tOnCommand=function(self)\n\t\tself:sleep(8):linear(1):diffusealpha(0)\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>Since the the time between each frame of animation is set globally using the <code>SetAllStateDelays()</code> method, the code is overall less prone to mistakes via typos.</p>\n\n\t\t\t<p>It is worth noting that in the above, animated examples, StepMania&apos;s engine will start with the first frame and progress to the last one in order.  There are times when we may want to only animate through a portion of a sprite sheet at any given moment, like with this character sprite sheet from a typical 16bit JRPG:</p>\n\n\t\t\t<p><img alt=\"a 4 by 4 spritesheet of SteveReen\" src=\"/Lua-For-SM5/img/Reen 4x4.png\" /></p>\n\n\t\t\t<p>If we want the <em>Sprite</em> actor to appear to be facing downward, then we&apos;d only want StepMania to be animating through the first row of the sprite sheet.  Here&apos;s a way to handle that.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">A complex Sprite example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- duration between frames, in seconds\nlocal duration_between_frames = 0.15\n\n-- We want SM5 to think of this as a single Sprite actor that sometimes\n-- displays frames 0-3, and other times displays frames 8-11, so we're\n-- going to need to manually specify each frame index like this.\n\n-- The sequence of frames here corresponds with the physical layout of\n-- the \"guy 4x4.png\" sprite sheet image shown above.\n\n-- Yes, this \"frames\" table could be programmatically generated with\n-- a nested loop but I'm explicitly writing it out here so it's\n-- easier to see what it contains for this example.\n\nlocal frames = {\n\tDown = {\n\t\t{ Frame=0,\tDelay=duration_between_frames},\n\t\t{ Frame=1,\tDelay=duration_between_frames},\n\t\t{ Frame=2,\tDelay=duration_between_frames},\n\t\t{ Frame=3,\tDelay=duration_between_frames}\n\t},\n\tLeft = {\n\t\t{ Frame=4,\tDelay=duration_between_frames},\n\t\t{ Frame=5,\tDelay=duration_between_frames},\n\t\t{ Frame=6,\tDelay=duration_between_frames},\n\t\t{ Frame=7,\tDelay=duration_between_frames}\n\t},\n\tRight = {\n\t\t{ Frame=8,\tDelay=duration_between_frames},\n\t\t{ Frame=9,\tDelay=duration_between_frames},\n\t\t{ Frame=10,\tDelay=duration_between_frames},\n\t\t{ Frame=11,\tDelay=duration_between_frames}\n\t},\n\tUp = {\n\t\t{ Frame=12,\tDelay=duration_between_frames},\n\t\t{ Frame=13,\tDelay=duration_between_frames},\n\t\t{ Frame=14,\tDelay=duration_between_frames},\n\t\t{ Frame=15,\tDelay=duration_between_frames}\n\t}\n}\n\n\nlocal af = Def.ActorFrame{\n\tOnCommand=function(self) self:sleep(999):Center() end\n}\n\naf[#af+1] = Def.Sprite{\n\tTexture=\"Reen 4x4.png\",\n\n\tInitCommand=function(self)\n\t\t-- when not actively tweening across the screen, the Sprite should\n\t\t-- not animate, so as to appear to be \"standing\" in place\n\t\tself:animate(false)\n\n\t\t-- align to left and v-middle\n\t\tself:halign(0):valign(0.5)\n\t\tself:Center()\n\n\t\t-- initialize the sprite state so that the sprite\n\t\t-- starts by facing downward\n\t\tself:SetStateProperties( frames.Down )\n\tend,\n\n\t-- In SM5, the StepMessage is broadcast whenever either player\n\t-- steps on a game button during gameplay.\n\t-- This doesn't handle buttons like START or SELECT.\n\tStepMessageCommand=function(self, params)\n\n\t\t-- As an arbitrary decision for the sake of this example\n\t\t-- let's only pay attention to steps from PLAYER_1\n\t\tif params.PlayerNumber == PLAYER_1 then\n\n\t\t\t-- turn animation back on for a brief moment\n\t\t\tself:animate(true)\n\n\t\t\t-- people can hit buttons faster than every 0.25 seconds, so it's\n\t\t\t-- possible to queue so many tweens that SM5 complains about a tween\n\t\t\t-- overflow. Mitigate this by canceling the previous linear tween, if\n\t\t\t-- one is still running, via the stoptweening() command.  Then\n\t\t\t-- apply a new linear tween to move the sprite one directional unit.\n\t\t\tself:stoptweening():linear(0.25)\n\n\t\t\t-- the \"Column\" param will match up with a Gameplay arrow column\n\t\t\t-- dance has 4 columns, pump has 5, etc.\n\t\t\t-- Column is 0-indexed because it's coming from C++.\n\n\t\t\t-- LEFT\n\t\t\tif params.Column == 0 then\n\t\t\t\tself:SetStateProperties( frames.Left )\n\t\t\t\tself:x(self:GetX() + (-1 * self:GetWidth()))\n\n\t\t\t-- DOWN\n\t\t\telseif params.Column == 1 then\n\t\t\t\tself:SetStateProperties( frames.Down )\n\t\t\t\tself:y(self:GetY() + self:GetWidth())\n\n\t\t\t-- UP\n\t\t\telseif params.Column == 2 then\n\t\t\t\tself:SetStateProperties( frames.Up )\n\t\t\t\tself:y(self:GetY() + (-1 * self:GetWidth()))\n\n\t\t\t-- RIGHT\n\t\t\telseif params.Column == 3 then\n\t\t\t\tself:SetStateProperties( frames.Right )\n\t\t\t\tself:x(self:GetX() + self:GetWidth() )\n\n\t\t\tend\n\n\t\t\t-- The Sprite has tweened, so queue a command to stop the\n\t\t\t-- animation. We can't call animate(false) in here because\n\t\t\t-- it will terminate the call to animate(true) early and the\n\t\t\t-- sprite will never animate.\n\t\t\tself:queuecommand(\"StopAnimating\")\n\t\tend\n\tend,\n\tStopAnimatingCommand=function(self)\n\n\t\t-- stop animating and set the sprite's frame to 0,\n\t\t-- regardless of direction the sprite is \"facing\".\n\t\tself:animate(false):setstate(0)\n\tend\n}\n\nreturn af\n`}\n\t\t\t</Highlight>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Sprite;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\n\nclass Actor extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t<h1>Actor</h1>\n\t\t\t<p>The <strong>Actor</strong> class is the most generic and lightweight StepMania Actor; all other Actors inherit from it (directly or eventually). Using an Actor object directly is not generally helpful; it can&apos;t <em>do</em> very much.   The <code>LoadActor()</code> helper function <Link to=\"LoadActor\">discussed later</Link> is far more flexible and useful!</p>\n\n\t\t\t<p>Still, there are times when <strong>Actor</strong> objects can be useful.  For example, the Simply Love SM5 port uses them when we need a hook into some message broadcast by the engine but don&apos;t need an entire ActorFrame.</p>\n\n\t\t\t<p>In theming example below, we are using an <code>Actor</code> to listen for the <code>StartTransitioningCommand</code> to be broadcast by the engine when a screen is transitioning out (and preparing to initialize the next screen).  When that occurs, we make a call to save the theme&apos;s preferences, assuming the theme is already using the <a href=\"https://github.com/stepmania/stepmania/blob/5_1-new/Themes/_fallback/Scripts/02%20ThemePrefs.lua\">ThemePrefs system</a>.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Example using an Actor directly:</span>\n\n\t\t\t<Highlight className=\"lua\">\n{`\nreturn Def.Actor{\n\tStartTransitioningCommand=function(self)\n\t\tThemePrefs.Save()\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>For another example, see: <a href=\"https://github.com/quietly-turning/Simply-Love-SM5/blob/00fdf7112b0050d229679c39d777dfca5f0bb11a/BGAnimations/ScreenGameplay%20overlay/ReceptorArrowsPosition.lua#L25-L40\">./Simply Love/BGAnimations/ScreenGameplay overlay/ReceptorArrowsPosition.lua</a></p>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Actor;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\n\nclass LoadActor extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t<h1>LoadActor()</h1>\n\n\t\t\t<p><em>LoadActor()</em> is a helper function with some extremely useful properties that make it a staple of any SM5 Lua scripting endeavor.</p>\n\n\t\t\t<h3>First Argument - A file path to Load</h3>\n\n\t\t\t<p>The function itself requires at least one argument, a string value of the file to load.  Let&apos;s consider a simple example, the code from <Link to=\"/Def.Sprite\">the page on Def.Sprite</Link>, now rewritten to use <code>LoadActor()</code>:</p>\n\n\t\t\t<span className=\"CodeExample-Title\">A very simple LoadActor example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- pass the function a path to an image file\n-- and append a table with the relevant commands\nLoadActor( \"OverlayAttachedGirlfriend.png\" )..{\n\tName=\"Girlfriend\",\n\tInitCommand=function(self)\n\t\tself:zoom(0.5):Center()\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>As <a href=\"https://github.com/stepmania/stepmania/blob/a888506b3270d6c66d12cb2165fb8d4b1a7d978f/Themes/_fallback/Scripts/02%20ActorDef.lua#L95-L159\">its definition in the _fallback theme demonstrates </a>, <em>LoadActor()</em> can load Lua files, image/video files, sound files, models, and directories.  In this manner, it can effectively take the place of knowing when to use <code>Def.Sprite{}</code>, <code>Def.Sound{}</code>, <code>Def.Model{}</code> or <code>Def.Actor</code>.</p>\n\n\t\t\t<h3>Second Argument - A table to pass into the loaded file</h3>\n\n\t\t\t<p>The optional second argument of LoadActor() is where it really shines, however.  Let&apos;s look at this slightly more complex example which uses two Lua files.</p>\n\n\t\t\t<p><strong>Primary.lua</strong> will load <strong>Box.lua</strong> once for each available human player and pass in unique properties to each.  If only PLAYER_1 is available, only the red quadrilateral on the left will be drawn.  If only PLAYER_2 is available, only the blue quadrilateral on the right will be drawn.</p>\n\n\t\t\t<p><img alt=\"\" className=\"img-fluid\" src=\"/Lua-For-SM5/img/loadactor.png\" /></p>\n\n\t\t\t<p>This sort of setup allows us to keep generic code definitions in files like Box.lua, and load them as needed from the primary file with specific values passed in.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Primary.lua</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nlocal af = Def.ActorFrame{\n\tInitCommand=function(self) self:Center():sleep(9999) end\n}\n\nlocal box_values ={\n\tP1 = {\n\t\tcolor = Color.Red,\n\t\tx = _screen.cx-200,\n\t\ty = _screen.cy,\n\t\th = 100,\n\t\tw = 50\n\t},\n\tP2 = {\n\t\tcolor = Color.Blue,\n\t\tx = _screen.cx+200,\n\t\ty = _screen.cy,\n\t\th = 50,\n\t\tw = 175\n\t}\n}\n\n\n-- Loop through any available human players\n-- (as opposed to \"joined\" players, which can be misleading)\n-- and load a Box.lua to the ActorFrame for each.\nfor player in ivalues( GAMESTATE:GetHumanPlayers() ) do\n\n\t-- Tranform a player enum string value into the part after\n\t-- the underscore with the ToEnumShortString() helper function.\n\n\t-- In this case \"PlayerNumber_P1\" becomes \"P1\"\n\t-- and \"PlayerNumber_P2\" becomes \"P2\"\n\tlocal pn = ToEnumShortString(player)\n\n\t-- The contents of Box.lua return a Quad.  Keep reading!\n\t-- Pass the specific box values we want into the file.\n\taf[#af+1] = LoadActor( \"./Box.lua\", box_values[ pn ] )\nend\n\nreturn af\n`}\n\t\t\t</Highlight>\n\n\t\t\t<span className=\"CodeExample-Title\">Box.lua</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- The box_values for this player from the primary lua file\n-- are brought into this file via the \"...\" syntax.\nlocal this_box = ...\n\nreturn Def.Quad{\n\tInitCommand=function(self)\n\t\tself:xy( this_box.x, this_box.y )\n\t\tself:diffuse( this_box.color )\n\t\tself:setsize( this_box.w, this_box.h  )\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LoadActor;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\n\nclass Sound extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t<h1>Sound</h1>\n\n\t\t\t<p>A <em>Sound</em> actor can be used to load and play sound files.  It supports panning between the left/right stereo channels and is intended for single-use sound effects.</p>\n\n\t\t\t<p className=\"alert alert-warning\">\n\t\t\tIf you need to play an audio file that you want to be cleanly <strong>looped</strong>, you&#8217;ll have better luck using the <code>SOUND:PlayMusicPart()</code> singleton method which is documented in <Link to=\"SOUND\">SOUND</Link>.\n\t\t\t</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Minimal Example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`Def.Sound{\n\t-- Note that you must tell the sound actor to play().\n\tFile=\"filepath.ogg\",\n\n\tOnCommand=function(self)\n\t\tself:play()\n\tend,\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p><em>Sound</em> actors have three unique attributes: <code>SupportPan</code>, <code>SupportRateChanging</code>, and <code>IsAction</code></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>SupportPan</strong> Set this to <code>true</code> if you intend to have the sound played solely through the left (for <code>PLAYER_1</code>) or the right (for <code>PLAYER_2</code>) audio channel.  This is accomplished with the <code>playforplayer()</code> method.\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\n\t\t\t\t<li>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>SupportRateChanging</strong> Set this to <code>true</code> if you intend to manipulate the pitch and/or speed of the underlying RageSound.\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>IsAction</strong> Set this to <code>true</code> if you are want this Sound actor to be muted as a <em>theme action</em> via <kbd>F3</kbd>+<kbd>A</kbd>.  This can be useful to keep themers sane while they are repeatedly debugging a single screen over and over again.\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<span className=\"CodeExample-Title\">SupportPan Example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- this Sound actor will play the current theme's\n-- \"common start\" sound first for PLAYER_1, then\n-- wait two seconds, and then play it for PLAYER_2\n\nDef.Sound{\n\tFile=THEME:GetPathS(\"common\", \"start\"),\n\tName=\"SFX_With_Pan\",\n\n\tSupportPan=true,\n\tSupportRateChanging=true,\n\tIsAction=false,\n\n\tOnCommand=function(self)\n\t\t-- play the sound out of the left channel\n\t\tself:playforplayer(PLAYER_1)\n\t\tself:queuecommand(\"PlayAgain\")\n\tend,\n\tPlayAgainCommand=function(self)\n\t\tself:sleep(2)\n\n\t\t-- play the sound out of the right channel\n\t\tself:playforplayer(PLAYER_2)\n\tend\n}\n`}\n\n\t\t\t</Highlight>\n\n\n\t\t\t<span className=\"CodeExample-Title\">SupportRateChanging Example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- variables local to this file\nlocal ragesound_file\nlocal current_pitch = 1\n\n-- this Sound actor will play the same audio file\n-- three times sequentially, each time with a higher pitch\nDef.Sound{\n\tFile=THEME:GetPathS(\"common\", \"start\"),\n\tName=\"SFX_With_Pitch\",\n\tSupportRateChanging=true,\n\n\tOnCommand=function(self)\n\t\tself:queuecommand(\"Play\")\n\tend,\n\tPlayCommand=function(self)\n\n\t\t-- get the underlying sound file data\n\t\tragesound_file = self:get()\n\n\t\t-- RageSound:pitch() take a float where\n\t\t-- 1.0 is \"normal\", 2.0 is twice as high as normal, etc.\n\t\tragesound_file:pitch( current_pitch )\n\n\t\t-- play the sound file using both stereo channels\n\t\tself:play()\n\n\t\t-- increment current_pitch\n\t\tcurrent_pitch = current_pitch + 1\n\n\t\t-- prevent infinite looping\n\t\tif current_pitch < 4 then\n\t\t\t-- sleep for two seconds and do it again\n\t\t\tself:sleep(2):queuecommand(\"Play\")\n\t\tend\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Sound;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n\nclass ActorMultiVertex extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t<h1>ActorMultiVertex</h1>\n\n\t\t\t<p> What <code>Def.Quad</code> does for quadrilaterals, <em>ActorMultiVertex</em> does for arbitrary polygons.  For documentation, please refer to <a href=\"https://github.com/stepmania/stepmania/blob/master/Docs/Themerdocs/ScreenAMVTest%20overlay.lua\">kyzentun&apos;s writeup</a>.</p>\n\n\t\t\t<p>An <em>ActorMultiVertex</em> actor has seven possible <Link to=\"/LuaAPI#Enums-DrawMode\">DrawModes</Link>.  Each DrawMode has a distinct visual style and each will require you to format your table of vertex data a little differently.</p>\n\n\t\t\t<p>For example, calling <code>{` self:SetDrawState({Mode=\"DrawMode_Quads\"}) `}</code> on an ActorMultiVertex will cause it to render every four vertices as a quadrilateral.  Simply Love uses an <em>ActorMultiVertex</em> in <code>DrawMode_Quads</code> to <a href=\"https://github.com/quietl-turning/Simply-Love-SM5/blob/01c5764200ac790fa7d7e4a539afb402ba33cc16/BGAnimations/ScreenEvaluation%20common/PerPlayer/ScatterPlot.lua#L55-L79\">render its ScatterPlot</a> on ScreenEvaluation.  Each judgment from Gameplay <a href=\"https://i.imgur.com/JK5Li2w.png\">is rendered</a> as a quadrilateral within a single <code>Def.ActorMultiVertex</code> actor.  This is more efficient than drawing additional <code>Def.Quad</code> actors for each judgment.</p>\n\n\t\t\t<p>Another <em>ActorMultiVertex</em> DrawMode is <code>DrawMode_LineStrip</code>, in which your table of vertex data will be rendered as a single, continuous line.  An example of <code>DrawMode_LineStrip</code> in action can be seen in <a href=\"https://www.youtube.com/watch?v=hKd4xkULxFk\">this scripted simfile</a> from the U.P.S. 2 pack.</p>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ActorMultiVertex;","import React, { Component } from \"react\";\n\nclass ActorFrameTexture extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t\t<h1>ActorFrameTexture</h1>\n\n\t\t\t\t<p><em>ActorFrameTexture</em> actors can be used to take what would otherwise be an ActorFrame of children Sprites, BitmapTexts, etc., and render them directly to a unique texture that can be loaded into a single Sprite actor.  At that point, the original ActorFrameTexture can be cut out of the render pipeline with a <code>{`visible(false)`}</code> command, and StepMania will have that many fewer actors to process every draw cycle.</p>\n\n\t\t\t\t<p>This is a more abstract and advanced topic, but it can help cut down on the overhead of having StepMania keep track of many, many actors where a single sprite might suffice.</p>\n\n\t\t\t\t<p>For now, please refer to <a href=\"https://github.com/stepmania/stepmania/blob/master/Docs/Themerdocs/Examples/Example_Actors/ActorFrameTexture.lua\">Matt Gardner&apos;s writeup</a>.</p>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ActorFrameTexture;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\nclass Model extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Model</h1>\n\n\t\t\t\t<p className=\"alert alert-info\"><em>This article was graciously contributed by <a href=\"https://github.com/JoseVarelaP\">JoseVarelaP</a>!</em></p>\n\n\t\t\t\t<p>\n\t\t\t\t\t<em>Model</em> is an actor class used to load 3D models into StepMania 5.  At this time, StepMania 5 only supports one format: <strong><em>MilkShape 3D ASCII</em></strong>.  This means that modeling must be done using the MilkShape 3D software which is only for Windows OS.\n\t\t\t\t</p>\n\n\t\t\t\t<p>Let&apos;s start by looking at a very simple example:</p>\n\n\t\t\t\t<span className=\"CodeExample-Title\">Simple Def.Model Example</span>\n\t\t\t\t<Highlight className=\"lua\">\n{`Def.Model {\n\tMeshes=\"MyModel.txt\",\n\tMaterials=\"MyModel.txt\",\n\tBones=\"MyModel.txt\",\n\tOnCommand=function(self)\n\t\tself:Center()\n\tend,\n}\n`}\n\t\t\t  \t</Highlight>\n\n\t\t\t\t<p>\n\t\t\t\t\tThis example will load a plaintext file named <code>MyModel.txt</code> that was exported from MilkShape 3D in the <em>MilkShape 3D ASCII</em> format.  That single file will contain all the data needed to for a <code>Def.Model</code>, including the <code>Meshes</code>, <code>Materials</code>, and <code>Bones</code>.\n\t\t\t\t</p>\n\n\n\t\t\t  <h3>Meshes, Materials, and Bones</h3>\n\n\t\t\t  <p><strong>Meshes</strong> are the composition and structure of the <code>Model</code>.  This data represents the vertices that make the <code>Model</code> take shape.</p>\n\n\t\t\t  <p><strong>Materials</strong> are the textures that the model will use. These can be any of the image formats listed in the <Link to=\"Supported-File-Extensions\">Supported File Extensions</Link> page. They can also be <em>.ini</em> files that define animated textures on a <Link to=\"Def.Sprite\">Def.Sprite</Link>.</p>\n\n\t\t\t  <p><strong>Bones</strong> make the model come to life. They can be defined within the primary model file, or, in the case of dancing characters, be controlled via a separate file that only contains the bones.</p>\n\n<p>In the above example, all three attributes used the same filepath; all the necessary data was contained within a single file.  It is possible to configure the MilkShape 3D software to output distinct files for meshes, materials, and bones, and set each <code>Def.Model</code> attribute accordingly, but that is outside the scope of this lesson.</p>\n\n\t\t\t\t<p className=\"alert alert-warning\">All three attributes <strong>must</strong> be provided within <code>Def.Model</code> as paths to resources that can be loaded or StepMania will crash.</p>\n\n\t\t\t\t<p>If you wish to load the <code>Model</code> without having to add bones, use <Link to=\"LoadActor\">LoadActor()</Link> instead.</p>\n\n\t\t\t\t<span className=\"CodeExample-Title\">Using LoadActor() to Make Life Easier</span>\n\t\t\t\t<Highlight className=\"lua\">\n{`LoadActor(\"MyModel.txt\")..{\n    OnCommand=cmd(Center);\n}\n`}\n\t\t\t  \t</Highlight>\n\n\n\n\n\t\t\t  <h3>Dancing Character Models</h3>\n\t\t\t  <p>While dancing characters typically appear in ScreenGameplay, it is possible to load them into any screen using <code>Def.Model</code>.  The following example can be used to load a randomly selected dancing character into the scene.</p>\n\n\n\t\t\t\t<span className=\"CodeExample-Title\">Random Dancing Character</span>\n\t\t\t\t<Highlight className=\"lua\">\n{`-- This will load a random character from SM5's ./Characters folder\n\n-- acquire a handle on a single, randomly selected\n-- dancing character using CHARMAN\nlocal CharacterToLoad = CHARMAN:GetRandomCharacter()\n\nDef.Model {\n\tMeshes=CharacterToLoad:GetModelPath(),\n\tMaterials=CharacterToLoad:GetModelPath(),\n\tBones=CharacterToLoad:GetModelPath(),\n\tOnCommand=function(self)\n\t\tself:Center()\n\tend,\n}\n`}\n\t\t\t\t</Highlight>\n\n\t\t\t\t<p><img alt=\"\" className=\"img-fluid\" src=\"/Lua-For-SM5/img/Model-Faraway.png\" /></p>\n\n\t\t\t\t<p>Wait a second - why is the model so far away?</p>\n\n\n\t\t\t\t<p>This is caused by how most 3D modelers have made their models to function with the corresponding <em>DDR-PC bones</em>, which are the most commonly used bones for dancing characters in StepMania.  As a result, dancing characters typically appear tiny when used outside of gameplay.</p>\n\n\t\t\t\t<p>Another thing to note is how the model is presented by default – it&apos;s facing away from us, the viewer.  This behavior can be changed by rotating on the <code>y</code> axis and explicitly setting a <code>z</code> value.</p>\n\n\n\t\t\t\t<span className=\"CodeExample-Title\">Random Dancing Character, Better</span>\n\t\t\t\t<Highlight className=\"lua\">\n{`-- acquire a handle on a single, randomly selected\n-- dancing character using CHARMAN\nlocal CharacterToLoad = CHARMAN:GetRandomCharacter()\n\nDef.Model {\n\tMeshes=CharacterToLoad:GetModelPath(),\n\tMaterials=CharacterToLoad:GetModelPath(),\n\tBones=CharacterToLoad:GetModelPath(),\n\tOnCommand=function(self)\n\t\t-- Set the model's y rotation to accommodate our vantage point\n\t\t-- and apply a z that will get the model closer to the camera.\n\t\tself:Center():rotationy(180):z(300)\n\tend,\n}\n`}\n\t\t\t\t</Highlight>\n\n\t\t\t\t<p><img alt=\"\" className=\"img-fluid\" src=\"/Lua-For-SM5/img/Model-MeshIntro.png\" /></p>\n\n\n\t\t\t\t<p>Okay, that&apos;s closer, but it still doens&apos;t look like the dancing character from gameplay!</p>\n\n\t\t\t\t<p>There&apos;s one additional \"gotcha\" regarding model animations in StepMania&apos;s dancing characters.  They are not handled by or defined within the model, but rather the <em>bones</em>.  To add animations to the model, pass the <code>Bones</code> attribute of the <code>Def.Model</code> a dedicated bones file.</p>\n\n\n\t\t\t\t<span className=\"CodeExample-Title\">Random Dancing Character, Fixed</span>\n\t\t\t\t<Highlight className=\"lua\">\n{`-- acquire a handle on a single, randomly selected\n-- dancing character using CHARMAN\nlocal CharacterToLoad = CHARMAN:GetRandomCharacter()\n\nDef.Model {\n\tMeshes=CharacterToLoad:GetModelPath(),\n\tMaterials=CharacterToLoad:GetModelPath(),\n\n\t-- For this example, we'll provide a path to a dedicated bones file\n\t-- by using SM5's Character GetRestAnimationPath() method\n\t-- for this example, we'll use the Rest Animation\n\tBones=CharacterToLoad:GetRestAnimationPath(),\n\n\tOnCommand=function(self)\n\t\t-- Set the model's y rotation to accommodate our vantage point\n\t\t-- and apply a z that will get the model closer to the camera.\n\t\tself:Center():rotationy(180):z(300)\n\n\t\t-- since we're using the rest animation, we'll want to also set\n\t\t-- the y() position to be lower on on the screen\n\t\tself:addy(10)\n\tend\n}\n`}\n</Highlight>\n\n\n\t\t\t  <p><img alt=\"\" className=\"img-fluid\" src=\"/Lua-For-SM5/img/Model-WithBones.png\" /></p>\n\n\n\t\t\t  <p>As a final note, some models may have inverted vertexes, which can cause some polygons to collide with one another and draw in the wrong order. To fix this, set the model&apos;s <code>Cull Mode</code> to <code>none</code>.</p>\n\n\n\t\t\t\t<span className=\"CodeExample-Title\">Random Dancing Character, CullMode None</span>\n\t\t\t\t<Highlight className=\"lua\">\n{`-- acquire a handle on a single, randomly selected\n-- dancing character using CHARMAN\nlocal CharacterToLoad = CHARMAN:GetRandomCharacter()\n\nDef.Model {\n\tMeshes=CharacterToLoad:GetModelPath(),\n\tMaterials=CharacterToLoad:GetModelPath(),\n\n\tBones=CharacterToLoad:GetRestAnimationPath(),\n\n\tOnCommand=function(self)\n\t\t-- Set the model's y rotation to accommodate our vantage point\n\t\t-- and apply a z that will get the model closer to the camera.\n\t\tself:Center():rotationy(180):z(300)\n\n\t\t-- since we're using the rest animation, we'll want to also set\n\t\t-- the y() position to be lower on on the screen\n\t\tself:addy(10)\n\n\t\t-- finally, set the Cull Mode to none\n\t\tself:cullmode(\"CullMode_None\")\n\tend\n}\n`}\n\t\t\t\t</Highlight>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Model;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\n\nclass SCREENMAN extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t<h1>SCREENMAN Singleton</h1>\n\n\t\t\t<p>The SCREENMAN (short for <em>Screen Manager</em>) singleton is primarily used in conjunction with its <code>GetTopScreen()</code> method to do just that – get the screen that is currently on the top of StepMania&apos;s screen stack.  (This typically means the current screen.)</p>\n\n\t\t\t<p>SCREENMAN also has a some other methods which are worth knowing, namely <code>SystemMessage()</code>.   As we&apos;ll demonstrate in <Link to=\"/Debugging\">the chapter on Debugging</Link>, <code>SystemMessage()</code>  can be handy for quick debugging.</p>\n\n\t\t\t<h3>GetTopScreen()</h3>\n\n\t\t\t<p>Within the context of theming and simfile scripting, calling <code>SCREENMAN:GetTopScreen()</code> will return the screen currently being displayed in the form of a <em>screen</em> object.\n\t\t\t For example, calling it on ScreenGameplay will get you the gameplay screen in the form of a screen object.  Calling it on ScreenPlayerOptions wil do similarly but return the player options screen.</p>\n\n\t\t\t<p>While there are some methods available to <em>all</em> <Link to=\"/LuaAPI#Actors-Screen\">screen objects</Link> (like <code>AddInputCallback()</code> which is covered in <Link to=\"/Arbitrary-Input\">Handling Arbitrary Input</Link>), there are many more that depend on the class of the current Screen.\n\t\t\t A screen object of class <em>ScreenGameplay</em> will have the method <code>GetLifeMeter()</code> which returns a <Link to=\"/LuaAPI#Actors-LifeMeter\">LifeMeter</Link> object.\n\t\t\t A screen object of class <em>ScreenSelectMusic</em> will have the method <code>GetMusicWheel()</code> which returns a <Link to=\"/LuaAPI#Actors-MusicWheel\">MusicWheel</Link> ojbect.</p>\n\n\t\t\t<p>Here is a small example that uses <code>GetTopScreen()</code> on ScreenSelectMusic to get a Lua reference to the MusicWheel and change the current sort of that MusicWheel.  In order for this code to work, it must be called from a theme&apos;s ScreenSelectMusic.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Using SCREENMAN:GetTopScreen() to get ScreenSelectMusic</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nreturn Actor{\n\n\t-- InitCommand happens before the screen we want is the TopScreen,\n\t-- so calling GetTopScreen() during an InitCommand would fetch the\n\t-- screen being transitioned out of that is about to be destroyed.\n\t-- It WILL be ready by the time OnCommand is called, however.\n\tOnCommand=function(self)\n\n\t\t-- Since this Lua is being called on ScreenSelectMusic\n\t\t-- the topscreen variable will be a screen object of ScreenSelectMusic.\n\t\tlocal topscreen = SCREENMAN:GetTopScreen()\n\n\t\t-- Get a Lua reference to the engine's MusicWheel\n\t\t-- This is a Lua object of type \"MusicWheel\"\n\t\tlocal MusicWheel = topscreen:GetMusicWheel()\n\n\t\t-- Change the current sort of the MusicWheel.\n\t\t-- Fot a full list of available sorts, check the SortOrder enum\n\t\t-- as documented in the Lua API.\n\t\tMusicWheel:ChangeSort(\"SortOrder_Artist\")\n\tend\n}\n`}\n\n\n\t\t\t</Highlight>\n\n\t\t\t<p>Again, there are many custom methods that belong to the many different classes of screens, more than can be reasonably documented here.  For a full list, please refer to the various screen classes documented in the <Link to=\"/LuaAPI\">SM5 Lua API</Link>.  This currently includes everything from <strong>Class Screen</strong>:<em>ActorFrame</em> down to <strong>Class ScreenWithMenuElementsSimple</strong>:<em>ScreenWithMenuElements</em> (with the exception of ScreenManager itself, of course!).</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SCREENMAN;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\n\nclass SOUND extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t<h1>SOUND Singleton</h1>\n\n\t\t\t<p>The SOUND singleton can be used to play audio files from a theme or simfile and has some capabilities that a <Link to=\"/Def.Sound\">Sound actor</Link> lacks.</p>\n\n\t\t\t<h3>SOUND can be used to loop audio files cleanly</h3>\n\n\t\t\t<p>Namely, SOUND can be used to easily and cleanly loop audio files via the <code>PlayMusicPart()</code> method.  Additionally, SOUND has some helpful methods like <code>DimMusic()</code> and <code>StopMusic()</code> that might make it especially interesting from the perspective of a simfile mini-game.</p>\n\n\t\t\t<p>Here is a simple example that could be called from within a simfile&apos;s BGCHANGE or FGCHANGE script.  It assumes that there is a file <em>love-is-war.ogg</em> located in the root of the song directory.  This example uses <code>PlayMusicPart()</code> which accepts eight arguments:</p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>music_path</strong> (string) – the path to the audio file you want to load</li>\n\t\t\t\t<li><strong>music_start</strong> (float) – how many seconds into the file you want playback to start</li>\n\t\t\t\t<li><strong>music_length</strong> (float) – how many seconds of the file you want to play</li>\n\t\t\t\t<li><strong>fade_in</strong> (float) – how many seconds should the file fade in over</li>\n\t\t\t\t<li><strong>fade_out</strong> (float) – how many seconds should the file fade out over</li>\n\t\t\t\t<li><strong>loop</strong> (boolean) – set to <code>true</code> if you want the audio file to loop until told to stop</li>\n\t\t\t\t<li><strong>apply_rate</strong> (boolean) – should this audio file follow the engine&apos;s internal sense of music rate?</li>\n\t\t\t\t<li><strong>align_beat</strong> (boolean) – if <code>true</code> or <code>nil</code>, the playback duration is automatically adjusted to cover an integer number of beats</li>\n\t\t\t</ul>\n\n\t\t\t<span className=\"CodeExample-Title\">Simple usage of SOUND singleton:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n\treturn Def.Actor{\n\tName=\"BGM\",\n\tOnCommand=function(self, params)\n\t\tlocal directory = GAMESTATE:GetCurrentSong():GetSongDir()\n\t\tlocal path = directory .. \"love-is-war.ogg\"\n\n\t\t-- love-is-war.ogg is 4 minutes and 10 seconds in duration.\n\t\t-- We want it to loop.\n\t\tSOUND:PlayMusicPart(path, 0, 250.4, 0, 0, true, true, true)\n\n\t\t-- Wait 10 seconds, then queue a command where we'll\n\t\t-- lower the playback volume\n\t\tself:sleep(10):queuecommand(\"LowerPlaybackVolume\")\n\tend,\n\tLowerPlaybackVolumeCommand=function(self)\n\n\t\t-- Lower the volume to 33% for a duration of 10 seconds.\n\t\tSOUND:DimMusic(0.33, 10)\n\tend,\n\tOffCommand=function(self)\n\n\t\t-- We don't want this audio to continue playing past\n\t\t-- ScreenGameplay, so, when this actor's OffCommand\n\t\t-- is triggered, stop the SOUND singleton.\n\t\tSOUND:StopMusic()\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<h3>SOUND or Def.Sound&#123;&#125; ?</h3>\n\n\t\t\t<p>Of course, the SOUND singleton lacks some of the special features that a <Link to=\"Def.Sound\">Sound actor</Link> possesses.</p>\n\n\t\t\t<p>Only one sound can be played via SOUND at any given moment, while there can be multiple <em>Sound</em> actors loaded simultaneously.  Furthermore, SOUND has no control over playback pitch or stereo panning.  Thus, both the SOUND singleton and <em>Sound</em> actors have unique and valid use cases.</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SOUND;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\n\nclass Debugging extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t<h1>Debugging</h1>\n\n\t\t\t<p>Using <Link to=\"/SCREENMAN\">SCREENMAN</Link>&apos;s <code>SystemMessage()</code> method may perhaps be the most tried-and-true means of quickly displaying debugging output to the Screen.  <code>SystemMessage()</code> accepts a string as an argument and displays it at the top of the screen for a few seconds.</p>\n\n\t\t\t<p>Let&apos;s jump into a simple example from ScreenGameplay where we listen for and print out JudgmentMessages.  A <em>Judgment</em> is how each step is evaluated as it passes in Gameplay.  Each Judgment has a corresponding JudgmentMessage broadcast by the engine that contains information about that Judgment.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Using SystemMessage() to print debug output</span>\n\t\t\t<Highlight className=\"Lua\">\n{`\n-- Since the engine only broadcasts JudgmentMessages to ScreenGameplay,\n-- this example only makes sense and does anything in ScreenGameplay.\n\nreturn Def.Actor{\n\n\tJudgmentMessageCommand=function(self, params)\n\t\t-- Note that JudgementMessages will be broadcast for any human players,\n\t\t-- but to keep this example simple, we'll limit it to PLAYER_1.\n\t\tif params.Player == PLAYER_1 then\n\n\t\t\t-- This SystemMessage will display each judgment in string\n\t\t\t-- form at the top of the screen as it occurs.\n\t\t\t-- So, if a note passes and the player misses it,\n\t\t\t-- \"TapNoteScore_Miss\"  would be displayed at the\n\t\t\t-- top of the screen.\n\t\t\t--\n\t\t\t-- A W1 judgment (Marvelous in DDR, Fantastic in ITG, etc.)\n\t\t\t-- would display \"TapNoteScore_W1\".\n\t\t\t-- (Note that the \"W\" is for window, as in \"timing window.\")\n\t\t\t--\n\t\t\t-- Hold notes have their own, separate judgment system.\n\t\t\t-- So, when a hold note is judged, a JudgmentMessage will be\n\t\t\t-- broadcast, but the TapNoteScore parameter will be nil.\n\t\t\t-- Account for that here with a logical or statement that tries\n\t\t\t-- params.HoldNoteScore if params.TapNoteScore is nil.\n\t\t\tSCREENMAN:SystemMessage( params.TapNoteScore or params.HoldNoteScore )\n\t\tend\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<h3>Using SystemMessage() to display Table output</h3>\n\n\t\t\t<p><code>SystemMessage()</code> displays strings, not tables, so if in our debugging endeavors we want such functionality, we&apos;ll have to enhance SystemMessage some with custom Lua.  The <em>Simply Love</em> theme for SM5 <a href=\"https://github.com/quietly-turning/Simply-Love-SM5/blob/master/Scripts/06%20SL-Utilities.lua\">includes some helper functions</a>.  As the author of that theme, I encourage you to use that code in your own scripting/theming endeavors.  One way to do this is to include a copy of <strong>SL-Utilities.lua</strong> in the <em>./Scripts</em> directory of your current theme.</p>\n\n\t\t\t<p>The function defined in <strong>SL-Utilities.lua</strong> that is relevant here is <code>SM()</code>  which is short for SystemMessage.  Assuming that SL-Utilities.lua is copied into the current theme&apos;s Scripts directory and loaded (by restarting StepMania or pressing <kbd>Control</kbd> <kbd>F2</kbd>), this example will print table of the which steps were just judged in a JudgmentMessage.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Using SM() to display a small Lua table</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nreturn Def.Actor{\n\tJudgmentMessageCommand=function(self, params)\n\t\t-- Again, limit to  PLAYER_1 for a more simple example.\n\t\tif params.Player == PLAYER_1 then\n\t\t\t-- SystemMessage a stringified table of note columns\n\t\t\t-- as each judgment occurs\n\t\t\tSM( params.Notes )\n\t\tend\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>The screenshot below shows that columns 4 and 1 (a left-right jump) were just missed.</p>\n\n\t\t\t<p><img src=\"/Lua-For-SM5/img/using-SM-to-debug-table.png\" alt=\"a screenshot demonstrating how to use the SM helper function to debug a Lua table\"/></p>\n\n\t\t\t<h3>Knowing when to use Trace()</h3>\n\n\t\t\t<p>Please note that <code>SystemMessage()</code> is not the only debugging tool available in StepMania.  SystemMessage() actually has a rather limited usefulness because large Lua tables can easily contain more data than StepMania&apos;s window can reasonably display.  In such situations, a proper Lua <code>Trace()</code> is preferred.  Output from <code>Trace()</code> is written to <em>Logs/Log.txt</em></p>\n\n\t\t\t<p>StepMania&apos;s <em>_fallback</em> theme includes a  <code>rec_print_table()</code> function to assist with recursively printing deeply nested Lua tables to the Log.txt file.  Here is the example from above, reworked to to use <code>rec_print_table()</code> to write the entire params table to file.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Using rec_print_table() to log a large Lua table</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nreturn Def.Actor{\n\tJudgmentMessageCommand=function(self, params)\n\t\t-- recursive print the entire table of JudgmentMessage parameters\n\t\t-- to Logs/Log.txt.  This would be more information than could fit\n\t\t-- onscreen at a single moment.\n\t\trec_print_table( params )\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Debugging;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\n\nclass Debugging extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t<h1>Command-Chaining</h1>\n\n\t\t\t<p>In StepMania 5, commands applied to actors can be chained, resulting in a more clean and terse syntax than was possible before.</p>\n\n\t\t\t<p>The following two syntaxes produce the same results:</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Long Form</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n\tDef.Quad{\n\t\tOnCommand=function(self)\n\t\t\tself:zoomto(100,200)\n\t\t\tself:xy(_screen.cx, 100)\n\t\t\tself:diffuse(Color.Green)\n\t\t\tself:linear(1)\n\t\t\tself:y(_screen.h-100)\n\t\tend\n\t}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<span className=\"CodeExample-Title\">Condensed Via Command Chaining</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nDef.Quad{\n\tOnCommand=function(self)\n\t\tself:zoomto(100,200):xy(_screen.cx, 100):diffuse(Color.Green)\n\t\t\t:linear(1):y(_screen.h-100)\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>While commands <em>can</em> be chained ad infinitum, an appropriate rule of thumb is to chain contextually-related commands together, and start a new line when a new context arises.  For example, consider starting with a tween command and then successively chaining the commands that are to be tweened.</p>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Debugging;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\n\n\nclass ArbitraryInput extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t<h1>Handling Arbitrary Input</h1>\n\n\t\t\t<p>Arbitrary input (from game buttons, menu buttons, coin buttons, etc.) can be detected and handled by using the <code>AddInputCallback()</code> method of any screen.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">A very simple InputCallback example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nlocal function InputHandler( event )\n\t-- do stuff with the event table in here\n\t-- the attributes of the event table are documented below\nend\n\nDef.ActorFrame{\n\tOnCommand=function(self)\n\t\tSCREENMAN:GetTopScreen():AddInputCallback( InputHandler )\n\tend,\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>This adds the lua function <code>InputHandler()</code> to the list of functions the screen will pass input to.  Whenever an input event occurs, <code>InputHandler()</code> will be passed a table with the details of the event.</p>\n\n\t\t\t<p className=\"alert alert-warning\">\n\t\t\tNote that this method should <strong>not</strong> be used to handle text input from the user because it would not handle localization or different keyboard layouts.\n\t\t\t</p>\n\n\t\t\t<p>The screen and your own callback function will both be passed input events, so be aware of what input the current screen responds to and consider the effects.</p>\n\n\t\t\t<p>Details of the table containing the event data is as follows.  In the very simple example above, this table would be the <code>event</code> table that is passed into the <code>InputHandler()</code> function on <em>every</em> input event.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">An input event table:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n{\n\t-- The semi-raw button that was pressed.\n\t-- This is what the button was mapped to by\n\t-- the keymap settings, but without the\n\t-- conversions that occur when\n\t-- OnlyDedicatedMenuButtons is true.\n\t-- Will be empty if the button was not mapped.\n\tbutton = string,\n\n\t-- The type of event.  One of three possible values:\n\t--\t\t\"InputEventType_FirstPress\"\n\t--\t\t\"InputEventType_Repeat\"\n\t--\t\t\"InputEventType_Release\".\n\ttype = string,\n\n\t-- The cooked button that was pressed.\n\t-- This is button with mapping that occurs when\n\t-- OnlyDedicatedMenuButtons is true applied.\n\t-- This is nil for unmapped buttons.\n\tGameButton = string,\n\n\t-- The player that the controller is mapped to, or nil.\n\t-- \"PlayerNumber_P1\" or \"PlayerNumber_P2\"\n\t-- or nil if the event wasn't mapped to either player.\n\tPlayerNumber = PlayerNumber,\n\n\t-- The game controller this event was mapped to.\n\t-- \"GameController_1\" or \"GameController_2\"\n\t-- or nil if the event wasn't mapped to either controller.\n\tcontroller = string,\n\n\t-- Unknown purpose.  Probably related to Netplay.\n\tMultiPlayer = string,\n\n\t-- The raw details of the event.\n\t-- Most of the time, this will be \"lower level\"\n\t-- than anything you might want themeside.\n\tDeviceInput = {\n\n\t\t-- The type of device.  The first half of the string will be \"Device_\",\n\t\t-- the second half will be from InputDeviceNames in RageInputDevice.cpp.\n\t\tdevice = string,\n\n\t\t-- The button that was pressed. the first half of the string will\n\t\t-- be \"DeviceButton_\", the second half will be from InitNames\n\t\t-- in RageInputDevice.cpp.\n\t\tbutton= string,\n\n\t\t-- A floating point value for analog input, (ie. mouse)\n\t\tlevel = float,\n\n\t\t-- Mousewheel input.\n\t\tz = float,\n\n\t\t-- Whether the button is down.\n\t\t-- This is level with a threshold and debouncing applied.\n\t\tdown = bool,\n\n\t\t-- How long ago this input occurred, in seconds.\n\t\tago = float,\n\n\t\t-- True if the device is a joystick.\n\t\tis_joystick = bool,\n\n\t\t-- True if the device is a mouse.\n\t\tis_mouse = bool\n\n\t},\n}\n`}\n\t\t\t</Highlight>\n\n\n\n\n\t\t\t<p>Here is a well-commented example, courtesy of Kyzentun.   It consists of a few variables, an input handling function, and an ActorFrame with two BitmapText actors whose text will be set by the input handling function.</p>\n\n\t\t\t<p>Note that this example only displays information from the <em>most recent</em> button press because new input events (first_press, repeat, release) are triggered on a per-button basis.   It is possible to maintain a list of which buttons are being held in a Lua table, but this is left as an exercise for the reader for now. :)</p>\n\n\t\t\t<span className=\"CodeExample-Title\">A more practical Input Callback example:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\n-- button_text and game_button_text will be set to actors when those actors\n-- are created. These local variables exist to skip the hassle of calling\n-- GetChild().\nlocal button_text = false\nlocal game_button_text = false\n\n-- button_text will be used to show the button field from the input event,\n-- and game_button_text will be used for the GameButton field.\tThese two\n-- fields can be different because Stepmania has the OnlyDedicatedMenuButtons\n-- preference.\tThat preference is intended to make it so that only the menu\n-- buttons (MenuLeft, MenuRight, MenuUp, MenuDown, commonly only MenuLeft and\n-- MenuRight on cabinets) can be used in menus.\t If OnlyDedicatedMenuButtons\n-- is false, then Left will be translated to MenuLeft, and the GameButton\n-- field will be set to MenuLeft when Left on the pad is pressed.\n-- This digression about menu button translation really only matters to\n-- themers trying to make a good menu control scheme.\tFor a simfile played\n-- on a cabinet, GameButton will usually be nil, because most cabinets are\n-- set not to map the pads to the menu buttons.\n\n-- Since both text actors will have their text formatted the same way, it's\n-- useful to make a wrapper function to avoid duplicating the formatting.\n-- When the formatting changes, say changing spaces to colons, only\n-- set_button_text needs to change.\nlocal function set_button_text(text_actor, pn, button, press_type)\n\ttext_actor:settext( ToEnumShortString(pn) .. \" \" .. button .. \" \" .. press_type )\nend\n\n-- Lua.xml lists all the parts of the event table.\nlocal function InputHandler( event )\n\t-- If a button that is not mapped to any player is pressed, the\n\t-- PlayerNumber field will be nil.\tOtherwise, it will be PLAYER_1 or\n\t-- PLAYER_2.\n\tif not event.PlayerNumber then return end\n\t-- The delay between FirstPress and Repeat is set by the RepeatDelay\n\t-- metric for the screen.\n\t-- The number of repeats per second is set by the RepeatRate metric.\n\tlocal press_type= ToEnumShortString(event.type)\n\tset_button_text(button_text, event.PlayerNumber, event.button, press_type)\n\tset_button_text(game_button_text, event.PlayerNumber, event.GameButton, press_type)\nend\n\nreturn Def.ActorFrame{\n\t-- We add a sleeper actor so this can be used in a BGCHANGE lua\n\t-- file and the file won't be unloaded.\tThis isn't necessary when\n\t-- making a screen in a theme.\n\tDef.Actor{\n\t\tInitCommand=function(self)\n\t\t\tself:hibernate(1000)\n\t\tend\n\t},\n\n\n\t-- AddInputCallback cannot be in an InitCommand. InitCommands happen\n\t-- before the screen is the top screen, so calling GetTopScreen during an\n\t-- InitCommand would fetch the screen being transitioned out of that\n\t-- is about to be destroyed.\n\tOnCommand=function(self)\n\t\tSCREENMAN:GetTopScreen():AddInputCallback( InputHandler )\n\tend,\n\n\tDef.BitmapText{\n\t\tFont=\"Common Normal\",\n\t\tInitCommand=function(self)\n\n\t\t\t-- Since button_text is set inside an InitCommand, it occurs before the\n\t\t\t-- OnCommand that adds the input callback, so the input callback\n\t\t\t-- doesn't need to worry about whether button_text is initialized.\n\t\t\tbutton_text = self\n\n\t\t\t-- Lua is whitespace insensitive, so sticking a line break before a\n\t\t\t-- colon in the middle of a chain of functions is valid.\n\t\t\tself:xy(_screen.cx, _screen.cy-12)\n\t\t\t\t-- Colors are just tables of four numbers. Using html\n\t\t\t\t-- strings and the color function would also work.\n\t\t\t\t:DiffuseAndStroke({.75, .75, 0, 1}, {0, 0, 0, 1})\n\t\tend\n\t},\n\n\tDef.BitmapText{\n\t\tFont=\"Common Normal\",\n\t\tInitCommand= function(self)\n\t\t\tgame_button_text = self\n\t\t\tself:xy(_screen.cx, _screen.cy+12)\n\t\t\t\t:DiffuseAndStroke({.75, 0, .75, 1}, {0, 0, 0, 1})\n\t\tend\n\t},\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ArbitraryInput;","import React, { Component } from \"react\";\nimport Highlight from 'react-highlight';\nimport { Link } from \"react-router-dom\";\n\nclass SimpleTweens extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\n\t\t\t<h1>Simple Tweens</h1>\n\t\t\t<h3 className=\"subtitle\">Animate things from one state to another</h3>\n\n\t\t\t<p>A <em>tween</em> is a process in computer animation in which an object is manipulated (translated, transformed, altered, etc.) from a starting state to an ending state.  In the context of StepMania scripting, tweens are used to visually animate Actors.</p>\n\n\t\t\t<p>Using StepMania&apos;s Lua API, you can use tweens for many tasks, including (but not limited to):</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>make a <Link to=\"/Def.Sprite\">Sprite Actor</Link> grow to be twice as large by tweening <code>zoom(2)</code></li>\n\t\t\t\t<li>make the entire Screen Actor appear to &#8220;fade out&#8221; by tweening <code>diffuse(0,0,0,0)</code></li>\n\t\t\t\t<li>gradually make a <Link to=\"/Def.BitmapText\">BitmapText Actor</Link> by tweening <code>diffusealpha(0)</code></li>\n\t\t\t\t<li>move a <Link to=\"/Def.Quad\">Quad Actor</Link> diagonally 100 pixels down and 100 pixels right by tweening <code>xy(100,100)</code></li>\n\t\t\t\t<li>etc.</li>\n\t\t\t</ul>\n\n\t\t\t<p>This tutorial lists the types of simple tweens available through the <Link to=\"/LuaAPI\">Lua API</Link>, discusses how to use tweens, and concludes with a full example.</p>\n\n\t\t\t<p>To learn more about Actors and Lua scripting in StepMania, check out the <Link to=\"/foreword\">What Are Actors?</Link> tutorial.  To learn more about what Actor methods are available for tweening, refer to the <Link to=\"/LuaAPI#Actors-Actor\">Actor subsection</Link> of the Lua API.\n\t\t\t</p>\n\n\t\t\t<h2>Tweens Defined by the Engine</h2>\n\n\t\t\t<p>The StepMania engine defines four simple tweens directly: <em>linear</em>, <em>accelerate</em>, <em>decelerate</em>, and <em>spring</em>.  </p>\n\n\t\t\t<ul>\n\t\t\t\t<li><code>linear()</code> - Execute following commands steadily, at a constant rate.</li>\n\t\t\t\t<li><code>accelerate()</code> - Starts slow and progressively speeds up.</li>\n\t\t\t\t<li><code>decelerate()</code> - Starts fast and progressively slows down.</li>\n\t\t\t\t<li><code>spring()</code> - Rapidly shoots beyond the desired end state, then springs back into place.</li>\n\t\t\t</ul>\n\n\t\t\t<p>For completion&apos;s sake, it is worth noting here that <code>sleep()</code> is also a tween, even though most Lua scripters working with StepMania don&apos;t think of it as such.  <code>sleep()</code> will wait for the specified duration, then execute all following commands at once.</p>\n\n\t\t\t<h2>Tweens Defined by the <em>_fallback</em> theme</h2>\n\n\t\t\t<p>The engine also defines a fifth tween type, <em>bezier</em>, which allows scripters to custom define more complex tweens.  Indeed, the <em>_fallback</em> theme uses the <code>bezier()</code> tween type to predefine a few extra tweens for us that are simple to use.</p>\n\n\t\t\t<ul>\n\t\t\t\t<li><code>smooth()</code> - Slow to start, fast in the middle, slow to finish.</li>\n\t\t\t\t<li><code>bouncebegin()</code> - Briefly inverts the tween at first, giving the appearance of bouncing to start.</li>\n\t\t\t\t<li><code>bounceend()</code> - Briefly inverts the tween at the end, giving the appearance of bouncing to end.</li>\n\t\t\t\t<li><code>drop()</code> - Slows as it approaches its end state, then briefly accelerates the final few frames.</li>\n\t\t\t</ul>\n\n\t\t\t<p>If you are interested in learning more about <code>bezier()</code> tweens, you can inspect <strong><a href=\"https://github.com/stepmania/stepmania/blob/master/Themes/_fallback/Scripts/02%20Actor.lua\">02 Actor.lua</a></strong> in the _fallback theme&apos;s Scripts directory to see how <em>smooth</em>, <em>bouncebegin</em>, <em>bounceend</em>, and <em>drop</em> are defined in Lua.</p>\n\n\t\t\t<h2>How to Use Tweens</h2>\n\n\t\t\t<p>Knowing <em>what</em> we can use is great, but it&apos;s only half the picture.  If you apply a tween to an Actor without any further commands, it won&apos;t <em>do</em> anything.  Tweens need additional commands to execute over the course of their duration in order to animate in any meaningful way.</p>\n\n\t\t\t<p>Each of the tweens listed above takes a single argument: a <em>number</em> representing a duration in seconds for long the StepMania engine should tween the methods that immediately follow for.</p>\n\n\t\t\t<p>Let&apos;s illustrate what we mean by this with some examples.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Tween a quad to become twice as large:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nDef.Quad{\n\tOnCommand=function(self)\n\t\t-- draw a Quad in center of the screen, make it 100x100 pixels,\n\t\t-- and make it red\n\t\tself:Center():zoomto(100,100):diffuse(1,0,0,1)\n\n\t\t-- over a duration of 3 seconds, have the\n\t\t-- quad zoom to be twice its initial size\n\t\tself:linear(3):zoom(2)\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\n\t\t\t<p>The next example is somewhat more fun in that it appears to spin the entire screen around, but it also illustrates a &#8220;gotcha&#8221; with tweening that you should be aware of.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Rotate the entire Screen on the z-axis:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nDef.ActorFrame{\n\tOnCommand=function(self)\n\t\t-- get the current Screen object using SCREENMAN\n\t\tlocal screen = SCREENMAN:GetTopScreen()\n\n\t\t-- over a duration of 2 seconds, have\n\t\t-- the entire screen rotate 360 degrees\n\t\t-- clockwise on the z-axis\n\t\tscreen:accelerate(2):rotationz(360)\n\n\t\t-- wait one second\n\t\tscreen:sleep(1)\n\n\t\t-- This should spin the screen around again, right?\n\t\t-- Not quite. The screen's z-rotation is already set\n\t\t-- to 360, so this will have no visible effect.\n\t\tscreen:accelerate(2):rotationz(360)\n\n\t\t-- This, however, will because it adds more rotation\n\t\t-- to the current state, rather than the initial state.\n\t\tscreen:accelerate(2):addrotationz(360)\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<p>Can you tween more than one property of an actor at once?  Absolutely.</p>\n\n\t\t\t<p>The next example demonstrates that it is possible to tween multiple methods with a single tween.  After calling a tween method, all methods following it will be tweened until the next tween method is encountered.</p>\n\n\t\t\t<span className=\"CodeExample-Title\">Move a quad across the screen while fading it out:</span>\n\t\t\t<Highlight className=\"lua\">\n{`\nDef.Quad{\n\tOnCommand=function(self)\n\t\t-- draw a Quad at the top-left of the screen, which is the\n\t\t-- default draw position if no x or y coordinates are specified,\n\t\t-- and make it 100x100 pixels\n\t\tself:zoomto(100,100)\n\n\t\t-- over a duration of 2 seconds, have the\n\t\t-- quad move to the bottom-right of the screen,\n\t\t-- and fade out by tweening the alpha channel to 0\n\t\t-- This comprises one full tween.\n\t\tself:decelerate(2):xy( _screen.w, _screen.h ):diffusealpha(0)\n\n\t\t-- Here is a second, unique tween that tweens three methods\n\t\t-- to change the color, xy-position, and y-rotation of the Quad.\n\t\t-- Note that line breaks are fine.\n\t\tself:accelerate(3)\n\t\t\t:diffuse(1,0,0,1)\n\t\t\t:xy( _screen.cx, _screen.cy )\n\t\t\t:addrotationy(1080)\n\n\tend\n}\n`}\n\t\t\t</Highlight>\n\n\t\t\t<h2>Tweens in Motion</h2>\n\n\t\t\t<p>Reading about tweens good, but a visual is worth a thousand words.  Here is a scripted simfile you can run in StepMania 5 that briefly demonstrates each of these tweens, one after another.</p>\n\n\t\t\t<p>You can download that here!  <a href=\"/Lua-For-SM5/downloads/Simple-Tweens.zip\">Simple-Tweens.zip</a></p>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SimpleTweens;","// ------- components for React\nimport React, { Component } from \"react\"\nimport { Route, Switch } from \"react-router-dom\"\n\n// ------- primary stylesheet\nimport \"./_styles/custom.css\"\n\n//------- components for layout (header, sidebar)\nimport Header from \"./_layout/Header\"\nimport ContentNavigation from \"./_layout/ContentNavigation\"\n\n//------- components for top-level pages\nimport Home from \"./Home\"\nimport LuaAPI from \"./LuaAPI/LuaAPI\"\nimport Resources from \"./Resources\"\n\n// ------- BEGIN GUIDES -------\n\nimport Foreword from \"./introduction/Foreword\"\nimport Lua from \"./introduction/Lua\"\nimport SupportedFileExtensions from \"./introduction/Supported-File-Extensions\"\nimport ModChartSetup from \"./introduction/Mod-Chart-Setup\"\n\nimport Quad from \"./actors/Quad\"\nimport BitmapText from \"./actors/BitmapText\"\nimport Sprite from \"./actors/Sprite\"\nimport Actor from \"./actors/Actor\"\nimport LoadActor from \"./actors/LoadActor\"\nimport Sound from \"./actors/Sound\"\nimport ActorMultiVertex from \"./actors/ActorMultiVertex\"\nimport ActorFrameTexture from \"./actors/ActorFrameTexture\"\nimport Model from \"./actors/Model\"\n\nimport SCREENMAN from \"./singletons/SCREENMAN\"\nimport SOUND from \"./singletons/SOUND\"\n\nimport Debugging from \"./best-practices/Debugging\"\nimport CommandChaining from \"./best-practices/Command-Chaining\"\n\nimport ArbitraryInput from \"./examples/ArbitraryInput\"\nimport SimpleTweens from \"./examples/SimpleTweens\"\n\n// ------- END GUIDES -------\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.handleFilterChange = this.handleFilterChange.bind(this)\n\n\t\tthis.state = {\n\t\t\tapi_filter: \"\"\n\t\t}\n\n\t\tthis.old_pathname = \"\"\n\t}\n\n\thandleFilterChange(eventValue){\n\t\tthis.setState({api_filter: eventValue})\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className=\"h-100\">\n\t\t\t\t<Header />\n\n\t\t\t\t<div className=\"container-fluid h-100\">\n\t\t\t\t\t<div className=\"row h-100\">\n\n\t\t\t\t\t\t<div className=\"d-none col-xl-1 d-xl-block\"></div>\n\n\t\t\t\t\t\t<div id=\"content\" className=\"col-xl-7 col-lg-9 col-md-9 col-sm-12\">\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path=\"/\" \t\tcomponent={Home} />\n\t\t\t\t\t\t\t\t<Route path=\"/LuaAPI\"\t\trender={(routeProps =>(<LuaAPI {...routeProps} {...this.state} />))} />\n\t\t\t\t\t\t\t\t<Route path=\"/resources\"\tcomponent={Resources} />\n\n\t\t\t\t\t\t\t\t<Route path=\"/foreword\"\t\tcomponent={Foreword}/>\n\t\t\t\t\t\t\t\t<Route path=\"/lua\"\t\t\tcomponent={Lua} />\n\t\t\t\t\t\t\t\t<Route path=\"/Supported-File-Extensions\"\tcomponent={SupportedFileExtensions} />\n\t\t\t\t\t\t\t\t<Route path=\"/Mod-Chart-Setup\"\tcomponent={ModChartSetup} />\n\n\t\t\t\t\t\t\t\t<Route path=\"/Def.Quad\"\t\t\tcomponent={Quad} />\n\t\t\t\t\t\t\t\t<Route path=\"/Def.BitmapText\"\tcomponent={BitmapText} />\n\t\t\t\t\t\t\t\t<Route path=\"/Def.Sprite\"\t\tcomponent={Sprite} />\n\t\t\t\t\t\t\t\t<Route path=\"/Def.Actor\"\t\tcomponent={Actor} />\n\t\t\t\t\t\t\t\t<Route path=\"/LoadActor\"\t\tcomponent={LoadActor} />\n\t\t\t\t\t\t\t\t<Route path=\"/Def.Sound\"\t\tcomponent={Sound} />\n\t\t\t\t\t\t\t\t<Route path=\"/Def.ActorMultiVertex\"\t\tcomponent={ActorMultiVertex} />\n\t\t\t\t\t\t\t\t<Route path=\"/Def.ActorFrameTexture\"\tcomponent={ActorFrameTexture} />\n\t\t\t\t\t\t\t\t<Route path=\"/Def.Model\"\tcomponent={Model} />\n\n\t\t\t\t\t\t\t\t<Route path=\"/SCREENMAN\"\tcomponent={SCREENMAN} />\n\t\t\t\t\t\t\t\t<Route path=\"/SOUND\"\t\t\tcomponent={SOUND} />\n\n\t\t\t\t\t\t\t\t<Route path=\"/Debugging\"\t\t\tcomponent={Debugging} />\n\t\t\t\t\t\t\t\t<Route path=\"/Command-Chaining\"\tcomponent={CommandChaining} />\n\n\t\t\t\t\t\t\t\t<Route path=\"/Arbitrary-Input\"\tcomponent={ArbitraryInput} />\n\t\t\t\t\t\t\t\t<Route path=\"/Simple-Tweens\"\t\tcomponent={SimpleTweens} />\n\t\t\t\t\t\t\t</Switch>\n\n\t\t\t\t\t\t\t<p>&nbsp;</p>\n\t \t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"d-none col-xl-1 d-xl-block\"></div>\n\n\t \t\t\t\t\t<div className=\"col-xl-auto col-lg-2 col-md-3 col-sm-12\">\n\t\t \t\t\t  \t\t<ContentNavigation onFilterChange={this.handleFilterChange} />\n\t\t\t\t\t\t</div>\n\t \t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;","import 'bootstrap/dist/css/bootstrap.min.css'\nimport $ from 'jquery'\nimport Popper from 'popper.js'\nimport 'bootstrap/dist/js/bootstrap.bundle.min'\n\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport { BrowserRouter } from \"react-router-dom\"\n\n\nReactDOM.render((\n\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t<App />\n\t</BrowserRouter>\n),  document.getElementById(\"root\"));"],"sourceRoot":""}